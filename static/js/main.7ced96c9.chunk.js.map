{"version":3,"sources":["state/app/createReducer.js","common/customChip.component.js","state/rounds/roundsState.js","common/durationChip.component.js","common/linkDisplay.component.js","common/utils.js","common/variableMark.component.js","random.js","state/activePrimalEvents/activePrimalEventsState.js","common/conditionDisplay.component.js","events/eventComponents/rodOfWonderResults/blindingColoursResult.component.js","events/eventComponents/rodOfWonderResults/butterflyStreamResult.component.js","events/eventComponents/rodOfWonderResults/colourChangeResult.component.js","common/spellDisplay.component.js","events/eventComponents/rodOfWonderResults/darknessResult.component.js","events/eventComponents/rodOfWonderResults/delusionResult.component.js","events/eventComponents/rodOfWonderResults/detectThoughtsResult.component.js","events/eventComponents/rodOfWonderResults/enlargePersonResult.component.js","events/eventComponents/rodOfWonderResults/etherealObjectResult.component.js","events/eventComponents/rodOfWonderResults/faerieFireResult.component.js","events/eventComponents/rodOfWonderResults/fireballResult.component.js","events/eventComponents/rodOfWonderResults/fleshToStoneResult.component.js","events/eventComponents/rodOfWonderResults/gemsResult.component.js","events/eventComponents/rodOfWonderResults/grassResult.component.js","events/eventComponents/rodOfWonderResults/gustOfWindResult.component.js","events/eventComponents/rodOfWonderResults/heavyRainResult.component.js","events/eventComponents/rodOfWonderResults/invisibilityResult.component.js","events/eventComponents/rodOfWonderResults/leavesResult.component.js","events/eventComponents/rodOfWonderResults/lightningBoltResult.component.js","events/eventComponents/rodOfWonderResults/reduceWielderResult.component.js","events/eventComponents/rodOfWonderResults/slowResult.component.js","events/eventComponents/rodOfWonderResults/stinkingCloud.component.js","events/eventComponents/rodOfWonderResults/summonAnimalResult.component.js","events/eventComponents/rodOfWonderResults/rodOfWonderResults.js","events/eventComponents/wonderousMagicEvent.component.js","events/eventComponents/auroraBorealisEvent.component.js","events/eventComponents/catchyMusicEvent.component.js","events/eventComponents/centipedesEvent.component.js","events/eventComponents/colourDrainEvent.component.js","events/eventComponents/elementalUprisingEvent.component.js","events/eventComponents/enantiomaticSelfEvent.component.js","events/eventComponents/energyStormEvent.component.js","events/eventComponents/extradimensionalPit.component.js","events/eventComponents/harmEvent.component.js","events/eventComponents/healEvent.component.js","events/eventComponents/magicJarEvent.component.js","events/eventComponents/massDelusionEvent.component.js","events/eventComponents/rainOfSmallObjectsEvent.component.js","events/eventComponents/teleportationStormEvent.component.js","events/eventComponents/trippingTelekinesisEvent.component.js","common/colours.js","events/eventCard.component.js","events/eventComponents/twoSimultaneousEventsEvent.component.js","events/eventComponents/utterDarknessEvent.component.js","events/eventComponents/zoneOfUnluckEvent.component.js","events/events.js","state/eventExpansionState/eventExpansionState.js","state/userSettings/userSetingsState.js","state/triggerDialog/triggerDialogState.js","state/manualTrigger/manualTriggerState.js","state/app/primalMagic.reducer.js","state/primalStorm/primalStormState.js","state/app/App.reducer.js","homepage/homepage.component.js","images/primal_magic_image.png","errorPages/basicErrorMessage.component.js","errorPages/errorPage.component.js","errorPages/pageNotFoundError.component.js","common/barHeader.component.js","manualTriggerBar/crInput.component.js","manualTriggerBar/characterSwitch.component.js","manualTriggerBar/manualTriggerContent.component.js","manualTriggerBar/manualTrigger.component.js","activePrimalEventsList/activePrimalEventsListContent.component.js","images/primal_magic_flowchart.png","activePrimalEventsList/flowchartDisplay.component.js","activePrimalEventsList/userSettings.component.js","activePrimalEventsList/activePrimalEventsListFooter.content.js","activePrimalEventsList/activePrimalEventsListHeader.component.js","activePrimalEventsList/activePrimalEventsList.component.js","roundsBar/roundsContent.component.js","roundsBar/roundsBar.component.js","primalEventDialog/manualPrimalEventDialog.component.js","primalEventPage/primalEventPage.component.js","App.js","styles/theming.js","index.js"],"names":["createReducer","initialState","handlers","state","action","Object","prototype","hasOwnProperty","call","type","payload","useStyles","makeStyles","chip","margin","CustomChip","label","value","classes","Chip","className","size","variant","avatar","undefined","Avatar","roundsInitialState","currentRound","currentRoundSelector","primalMagic","roundsState","IncrementRoundType","roundsStateReducers","advanceRoundThunk","dispatch","DurationEndChip","useSelector","duration","durationInMins","Math","ceil","plural","durationInHours","durationInDays","AonLink","name","link","noHighlight","href","target","rel","defaultProps","objectToArrayString","object","separator","entries","map","key","join","mark","backgroundColor","u","includes","lightBlue","time","dist","willSave","fortSave","reflexSave","cl","weight","direction","directions","1","2","3","4","5","6","7","8","getSave","variable","saveType","prefix","result","unit","getValues","unitType","floor","getTime","getDist","getCasterLevel","getWeight","getDirection","VM","v","h","toolTip","getToolTip","description","modifier","diceCount","diceSize","Tooltip","title","placement","rollPercentile","rollD","rollMultipleD","Array","keys","reduce","total","generateRandom","min","max","rand","random","round","variableInitialState","makeConstantVariable","makeVariable","makeLimitedVariable","limit","primalEventInitialState","id","percentileRoll","cr","startRound","finalRound","variables","expanded","activePrimalEventsSelector","activePrimalEventsState","filter","event","ExpandAllEventsType","CollapseAllEventsType","ToggleSingleExpandedType","AddActivePrimalEventType","copyState","activePrimalEventsReducers","newState","activePrimalEvent","match","find","matchIndex","indexOf","matchToggled","push","Condition","blindingColours","percentileMin","percentileMax","createVariables","length","width","save","BlindingColoursEvent","butterflyStream","radius","butteflyCount","ButterflyStreamResult","colourChange","colour","targets","handleTargets","colours","handleColours","ColourChangeResult","Spell","linkName","casterLevel","encodeURIComponent","darkness","diameter","distance","cardinalDirection","DarknessResult","delusion","secondDieRoll","DelusionResult","detectThoughts","DetectThoughtsResult","enlargePerson","EnlargePersonResult","etherealObject","mass","volume","EtherealObjectResult","faerieFire","FaerieFireResult","fireball","damage","FireballResult","fleshToStone","FleshToStoneResult","gems","gemCount","numberOfHits","GemsResult","grass","area","existingGrowthAmount","GrassResult","gustOfWind","GustOfWindResult","heavyRain","HeavyRainResult","invisibility","InvisibilityResult","leaves","LeavesResult","lightningBolt","LightningBoltEvent","reduceWielder","ReduceWielderResult","slow","SlowResult","stinkingCloud","StinkingCloudResult","summonAnimal","animalSummonPercentile","handleAnimalType","SummonAnimalResult","rodOfWonderResults","getRodResult","results","e","wonderousMagic","_","rodOfWonderEventAlwaysSelected","getRodResultByTitle","rodOfWonderPercentile","rodOfWonderVariables","WonderousMagicEvent","crVal","rodComponent","rodResult","getRodOfWonderComponent","isInstantaneous","Box","Typography","auroraBorealis","AuroraBorealisEvent","catchyMusic","chantType","battleChants","handleChant","CatchyMusicEvent","centipedes","centipedeCount","handleCentipedes","CentipedesEvent","colourDrain","ColourDrainEvent","elementalUprising","elementalCount","handleElementals","ElementalUprisingEvent","enantiomaticSelf","EnantiomaticSelfEvent","energyStorm","energyType","energyTypes","handleEnergyType","EnergyStormEvent","extradimensionalPit","depth","ExtradimensionalPitEvent","harm","creaturesAffected","HarmEvent","heal","HealEvent","magicJar","stunDuration","bodySwapDuration","MagicJarEvent","massDelusion","MassDelusionEvent","rainOfSmallObjects","RainOfSmallObjectsEvent","teleportationStorm","TeleportationStormEvent","trippingTelekinesis","cmb","TrippingTelekinesisEvent","manualTriggerHeader","red","primalStormHeader","green","primalEventsHeader","indigo","userSettingsHeader","orange","eventActive","eventImminant","purple","card","cardHeader","titleColour","expiresThisTurn","color","alignItems","paddingTop","paddingBottom","expandAction","cardContent","EventCard","onExpandToggleClicked","Card","CardHeader","titleTypographyProps","IconButton","onClick","CardContent","getEventCardContent","divider","marginTop","marginBottom","prefixVariableKeys","newVariables","forEach","twoSimultaneousEvents","percentileOne","percentileTwo","eventOne","getEvent","eventOneVariables","eventTwo","eventTwoVariables","firstVars","secondVars","firstDuration","oneduration","secondDuration","twoduration","longestDuration","deconstructEvent","isOpen","percentile","variablePrefix","deconstructedEventVariables","startsWith","replace","removeVariableKeyPrefix","calculateFinalRound","TwoSimultaneousEventsEvent","useState","eventOneOpen","setEventOneOpen","eventTwoOpen","setEventTwoOpen","Divider","cyan","utterDarkness","UtterDarknessEvent","zoneOfUnluck","ZoneOfUnluckEvent","events","eventsInRange","allExpandedSelector","eventExpansionState","allExpanded","SetAllExpandedStateType","setAllExpandedState","eventExpansionReducers","toggleAllExpandedThunk","getState","toggleSingleExpandedThunk","toggleSingleExpanded","userSettingsStateSelector","userSettingsState","eventsAlwaysTriggerSelector","eventsAlwaysTrigger","alwaysSelectSameEventSelector","alwaysSelectSameEvent","eventAlwaysSelectedSelector","eventAlwaysSelected","alwaysSelectSameRodResultSelector","alwaysSelectSameRodResult","rodOfWonderAlwaysSelectedSelector","rodOfWonderAlwaysSelected","resetOnlyResetsRoundsSelector","resetOnlyResetsRounds","SetEventsAlwaysTriggerType","SetAlwaysSelectSameEventType","SetEventAlwaysSelectedType","SetRodResultAlwaysSelectedType","SetRodOfWonderAlwaysSelectedType","SetResetOnlyResetsRoundsType","userSettingsStateReducers","manualTriggerType","triggerDialogInitialState","open","triggerType","threshold","currentEvent","triggerDialogStateSelector","triggerDialogState","SetTriggerDialogStateType","SetTriggerDialogPrimalEventType","ToggleTriggerDialogPrimalEventExpandedType","CloseTriggerDialogType","setTriggerDialogState","closeTriggerDialog","triggerDialogStateReducers","confirmDialogPrimalEventThunk","triggerDialogCurrentEventSelector","dispatchedEvent","rerollDialogPrimalEventVariablesThunk","currentDialogState","rodOfWonderResultAlwaysSelected","reRollVariable","newDialogState","characterInitialState","characters","Other","Thunder","Finley","Autumn","Poli","Katsu","manualTriggerInitialState","specifiedCr","character","manualTriggerStateSelector","manualTriggerState","characterSelector","specifiedCrSelector","SetManualTriggerCrType","SetManualTriggerCharacterType","manualTriggerStateReducers","durationVariable","durationInRounds","generateDialogEvent","correspondingEvent","eventsWithTitle","getEventByTitle","Date","now","primalStormState","active","suppressed","leftArea","currentChance","ResetAllType","ResetAllForceType","PrimalMagicReducer","AppReducer","history","combineReducers","router","connectRouter","primalMagicReducer","container","display","flexDirection","justifyContent","height","textAlign","cardActions","Homepage","useDispatch","to","src","CardActions","Button","component","NavLink","withStyles","message","paddingLeft","paddingRight","icon","marginRight","children","theme","titleContainer","palette","primary","main","titleText","fontWeight","fontSize","padding","maxWidth","errorTitle","PageNotFoundError","header","borderTopLeftRadius","borderTopRightRadius","BarHeader","inputContainer","input","CrInput","currentCharacter","disabled","currentCr","crError","crErrorLabel","Grid","spacing","item","TextField","error","helperText","InputLabelProps","hidden","inputProps","onChange","number","parseInt","radioContainer","CharacterSwitch","FormControl","RadioGroup","selected","setManualTriggerCharacter","FormControlLabel","labelPlacement","control","Radio","content","ManualTriggerContent","footer","ManualTriggerBar","dialogState","alwaysShowSameRodResult","eventPercentile","overflow","ActivePrimalEventsListContent","activePrimalEvents","toggleSingleClicked","primalEvent","List","ListItem","footerButton","marginLeft","image","FlowchartDisplay","dialogOpen","setDialogOpen","Dialog","onClose","DialogContent","primalMagicFlowchart","dialogContent","minWidth","dialogHeader","dropDown","UserSettings","eventIsRodOfWonder","rodResultAlwaysSelected","DialogTitle","Checkbox","checked","Select","setEventAlwaysSelected","MenuItem","setRodOfWonderAlwaysSelected","ActivePrimalEventsListFooter","subtitleContainer","subtitle","expandButton","headerText","ActivePrimalEventsListHeader","toggleAllClicked","buildExpandIcon","buildExpandButton","disableRipple","ActivePrimalEventsList","resetButton","currentRoundDisplay","roundAvatar","RoundsContent","RoundsBar","isManualTrigger","eventOccurrance","reRollButton","blue","justifySelf","reRollContainer","ManualPrimalEventDialog","eventsAlwaysTriggered","eventOccurred","showEventContent","eventOccuranceMessage","fullWidth","startIcon","DialogActions","contentContainer","grey","buttonPage","page","pinnedEventsPage","PrimalEventPage","Paper","elevation","createHashHistory","middleware","thunk","routerMiddleware","log","ERROR","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","persistReducer","storage","applyMiddleware","persistor","persistStore","App","loading","createMuiTheme","typography","useNextVariants","singleRiskView","textField","slider","select","tabs","formControl","exact","path","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.7ced96c9.chunk.js","sourcesContent":["function createReducer(initialState, handlers) {\r\n  // rather than define a switch statement,\r\n  // this maps the handler actions to the state and payload\r\n  return function reducer(state = initialState, action) {\r\n    if (action && Object.prototype.hasOwnProperty.call(handlers, action.type)) {\r\n      return handlers[action.type](state, action.payload);\r\n    }\r\n    return state;\r\n  };\r\n}\r\n\r\nexport default createReducer;\r\n","import { Avatar, Chip, makeStyles } from '@material-ui/core';\r\nimport React from 'react';\r\n\r\nconst useStyles = makeStyles({\r\n  chip: {\r\n    margin: 2,\r\n  },\r\n});\r\n\r\nconst CustomChip = ({ label, value }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Chip\r\n      className={classes.chip}\r\n      size=\"small\"\r\n      variant=\"outlined\"\r\n      avatar={value !== undefined ? <Avatar>{value}</Avatar> : null}\r\n      label={label}\r\n    />\r\n  );\r\n};\r\n\r\nexport default CustomChip;\r\n","export const roundsInitialState = {\r\n  currentRound: 0,\r\n};\r\n\r\nexport const currentRoundSelector = state =>\r\n  state.primalMagic.roundsState.currentRound;\r\n\r\nconst IncrementRoundType = 'primalMagic:roundsState:incrementRound';\r\n\r\nexport const incrementRound = () => ({\r\n  type: IncrementRoundType,\r\n});\r\n\r\nconst handleIncrementRound = state => ({\r\n  ...state,\r\n  roundsState: {\r\n    ...state.roundsState,\r\n    currentRound: state.roundsState.currentRound + 1,\r\n  },\r\n});\r\n\r\nexport const roundsStateReducers = {\r\n  [IncrementRoundType]: handleIncrementRound,\r\n};\r\n\r\n// Thunk that handles all state when pressing the advance round button\r\n// Increments the round number\r\n// Then, if primal magic storm is on, generates the dialog state and event state if roll is high enough\r\n//  and opens the event dialog (this functionality comes later)\r\nexport const advanceRoundThunk = () => dispatch => {\r\n  // TODO: Later add primal magic stuff\r\n  dispatch(incrementRound());\r\n};\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { currentRoundSelector } from '../state/rounds/roundsState';\r\nimport CustomChip from './customChip.component';\r\n\r\nconst DurationEndChip = ({ value }) => {\r\n  const currentRound = useSelector(currentRoundSelector);\r\n\r\n  if (value === undefined) {\r\n    return <CustomChip label=\"Instantaneous\" />;\r\n  }\r\n\r\n  const duration = value - currentRound;\r\n\r\n  if (value < 10 || duration < 10) {\r\n    return <CustomChip label=\"End\" value={value} />;\r\n  }\r\n\r\n  if (duration < 59 * 10) {\r\n    const durationInMins = Math.ceil(duration / 10);\r\n    const plural = durationInMins > 1;\r\n    return (\r\n      <CustomChip\r\n        label={`Min${plural ? 's' : ''} Remain${plural ? '' : 's'}`}\r\n        value={durationInMins}\r\n      />\r\n    );\r\n  }\r\n\r\n  if (duration < 23 * 60 * 10) {\r\n    const durationInHours = Math.ceil(duration / 600);\r\n    const plural = durationInHours > 1;\r\n    return (\r\n      <CustomChip\r\n        label={`Hr${plural ? 's' : ''} Remain${plural ? '' : 's'}`}\r\n        value={`${durationInHours}`}\r\n      />\r\n    );\r\n  }\r\n\r\n  const durationInDays = Math.ceil(duration / (24 * 60 * 10));\r\n  const plural = durationInDays > 1;\r\n  return (\r\n    <CustomChip\r\n      label={`Day${plural ? 's' : ''} Remain${plural ? '' : 's'}`}\r\n      value={`${durationInDays}`}\r\n    />\r\n  );\r\n};\r\n\r\nexport default DurationEndChip;\r\n","import React, { Fragment } from 'react';\r\n\r\nconst AonLink = ({ name, link, noHighlight }) => {\r\n  if (noHighlight) {\r\n    return (\r\n      <Fragment>\r\n        <a href={link} target=\"_blank\" rel=\"noopener noreferrer\">\r\n          {name}\r\n        </a>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <mark>\r\n        <a href={link} target=\"_blank\" rel=\"noopener noreferrer\">\r\n          {name}\r\n        </a>\r\n      </mark>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nAonLink.defaultProps = {\r\n  noHighlight: false,\r\n};\r\n\r\nexport default AonLink;\r\n","export const booleanToString = boolVal =>\n  boolVal === undefined ? '-' : boolVal ? 'true' : 'false';\n\nexport const objectToArrayString = (object, separator = '; ') => {\n  return Object.entries(object)\n    .map(([key, value]) => `${key}=${value}`)\n    .join(separator);\n};\n","import { makeStyles, Tooltip } from '@material-ui/core';\r\nimport { lightBlue } from '@material-ui/core/colors';\r\nimport React from 'react';\r\nimport { objectToArrayString } from './utils';\r\n\r\nconst useStyles = makeStyles({\r\n  mark: {\r\n    backgroundColor: ({ u }) =>\r\n      u?.includes('SAVE') ? 'yellow' : lightBlue[50],\r\n  },\r\n});\r\n\r\nexport const time = 'TIME';\r\nexport const dist = 'DISTANCE';\r\nexport const willSave = 'WILL_SAVE';\r\nexport const fortSave = 'FORT_SAVE';\r\nexport const reflexSave = 'REFLEX_SAVE';\r\nexport const cl = 'CASTER_LEVEL';\r\nexport const weight = 'WEIGHT';\r\nexport const direction = 'DIRECTION';\r\n\r\nconst directions = {\r\n  1: 'north',\r\n  2: 'north east',\r\n  3: 'east',\r\n  4: 'south east',\r\n  5: 'south',\r\n  6: 'south west',\r\n  7: 'west',\r\n  8: 'north west',\r\n};\r\n\r\nconst getDirection = variable => {\r\n  return {\r\n    value: directions[Math.floor(variable.result, 8)],\r\n  };\r\n};\r\n\r\nconst getWeight = variable => {\r\n  return {\r\n    value: variable.result,\r\n    unit: `lb${variable.result > 1 ? 's' : ''}`,\r\n  };\r\n};\r\n\r\nconst getCasterLevel = variable => {\r\n  return {\r\n    prefix: 'Caster Level',\r\n    value: variable.result,\r\n  };\r\n};\r\n\r\nconst getTime = variable => {\r\n  let value = variable.result;\r\n  let unit = `round${value > 1 ? 's' : ''}`;\r\n\r\n  if (value >= 24 * 60 * 10) {\r\n    value = Math.floor(value / (24 * 60 * 10));\r\n    unit = `day${value > 1 ? 's' : ''}`;\r\n  } else if (value >= 60 * 10) {\r\n    value = Math.floor(value / (60 * 10));\r\n    unit = `hour${value > 1 ? 's' : ''}`;\r\n  } else if (value > 20) {\r\n    value = Math.floor(value / 10);\r\n    unit = `minute${value > 1 ? 's' : ''}`;\r\n  }\r\n\r\n  return {\r\n    value,\r\n    unit,\r\n  };\r\n};\r\n\r\nconst getDist = variable => {\r\n  const value = variable.result;\r\n  const unit = 'ft.';\r\n\r\n  return {\r\n    value,\r\n    unit,\r\n  };\r\n};\r\n\r\nconst getSave = (variable, saveType) => {\r\n  const value = variable.result;\r\n  const unit = `${saveType} Save`;\r\n\r\n  return {\r\n    prefix: 'DC ',\r\n    value,\r\n    unit,\r\n  };\r\n};\r\n\r\nconst getValues = (variable, unitType) => {\r\n  if (unitType === time) {\r\n    return getTime(variable);\r\n  }\r\n\r\n  if (unitType === dist) {\r\n    return getDist(variable);\r\n  }\r\n\r\n  if (unitType === willSave) {\r\n    return getSave(variable, 'Will');\r\n  }\r\n\r\n  if (unitType === fortSave) {\r\n    return getSave(variable, 'Fortitude');\r\n  }\r\n\r\n  if (unitType === reflexSave) {\r\n    return getSave(variable, 'Reflex');\r\n  }\r\n\r\n  if (unitType === cl) {\r\n    return getCasterLevel(variable);\r\n  }\r\n\r\n  if (unitType === weight) {\r\n    return getWeight(variable);\r\n  }\r\n\r\n  if (unitType === direction) {\r\n    return getDirection(variable);\r\n  }\r\n\r\n  return {\r\n    value: variable.result,\r\n    unit: undefined,\r\n  };\r\n};\r\n\r\nconst getToolTip = (variable, unit) => {\r\n  if (variable.description) {\r\n    return variable.description;\r\n  }\r\n\r\n  if (unit === direction) {\r\n    return `1d8 [${variable.result}]: ${objectToArrayString(directions)}`;\r\n  }\r\n\r\n  let modifier = `+ ${variable.modifier}`;\r\n\r\n  if (!variable.modifier) {\r\n    modifier = '';\r\n  } else if (variable.modifier < 0) {\r\n    modifier = `- ${variable.modifier}`;\r\n  }\r\n\r\n  return `${variable.diceCount}d${variable.diceSize} [${variable.result -\r\n    variable.modifier}] ${modifier}`;\r\n};\r\n\r\nconst VM = ({ v, u, h }) => {\r\n  const classes = useStyles({ u });\r\n  const { prefix, value, unit } = h?.getValues\r\n    ? h.getValues(v)\r\n    : getValues(v, u);\r\n  const toolTip = h?.getToolTip ? h.getToolTip(v) : getToolTip(v);\r\n  return (\r\n    <Tooltip title={toolTip} placement=\"left\">\r\n      <mark className={classes.mark}>\r\n        {!prefix ? null : `${prefix} `}\r\n        {value}\r\n        {!unit ? null : ` ${unit}`}\r\n      </mark>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nVM.defaultProps = {\r\n  u: undefined,\r\n  h: undefined,\r\n};\r\n\r\nexport default VM;\r\n","export const rollPercentile = () => rollD(100);\r\n\r\nexport const rollMultipleD = (diceSize, diceCount = 1, modifier = 0) =>\r\n  [...Array(diceCount + 1).keys()].reduce(total => total + rollD(diceSize)) +\r\n  modifier;\r\n\r\nexport const rollD = diceSize => generateRandom(1, diceSize);\r\n\r\nexport const generateRandom = (min, max) => {\r\n  const rand = min + Math.random() * (max - min);\r\n  return Math.round(rand);\r\n};\r\n","import { rollD, rollMultipleD } from '../../random';\r\nimport { currentRoundSelector } from '../rounds/roundsState';\r\n\r\nexport const variableInitialState = {\r\n  diceSize: undefined,\r\n  diceCount: undefined,\r\n  modifier: undefined,\r\n  result: undefined,\r\n  description: undefined,\r\n};\r\n\r\nexport const makeConstantVariable = (value, description = undefined) => ({\r\n  ...variableInitialState,\r\n  diceSize: 0,\r\n  diceCount: 0,\r\n  modifier: value,\r\n  result: value,\r\n  description,\r\n});\r\n\r\nexport const makeVariable = (\r\n  diceSize,\r\n  diceCount = 1,\r\n  modifier = 0,\r\n  description = undefined\r\n) => ({\r\n  ...variableInitialState,\r\n  diceSize: diceSize,\r\n  diceCount: diceCount,\r\n  modifier: modifier,\r\n  result: rollMultipleD(diceSize, diceCount, modifier),\r\n  description,\r\n});\r\n\r\nexport const makeLimitedVariable = (diceSize, limit) => ({\r\n  ...variableInitialState,\r\n  diceSize: diceSize,\r\n  result: Math.min(rollD(diceSize), limit),\r\n});\r\n\r\nexport const reRollVariable = variable => ({\r\n  ...variable,\r\n  result: rollMultipleD(\r\n    variable.diceSize,\r\n    variable.diceCount,\r\n    variable.modifier\r\n  ),\r\n});\r\n\r\nexport const primalEventInitialState = {\r\n  id: undefined,\r\n  percentileRoll: undefined,\r\n  cr: { ...variableInitialState },\r\n  startRound: undefined,\r\n  finalRound: undefined,\r\n  variables: [],\r\n  expanded: true,\r\n};\r\n\r\nexport const activePrimalEventsInitialState = [];\r\n\r\nexport const activePrimalEventsSelector = state =>\r\n  state.primalMagic.activePrimalEventsState.filter(\r\n    event => event.finalRound >= currentRoundSelector(state)\r\n  );\r\nexport const activePrimalEventSelector = id => state =>\r\n  activePrimalEventsSelector(state).find(primalEvent => primalEvent.id === id);\r\nexport const activePrimalEventIsExpandedSelector = id => state =>\r\n  activePrimalEventSelector(id)(state).expanded;\r\n\r\nconst ExpandAllEventsType = 'primalMagic:activePrimalEvents:expandAllEvents';\r\nconst CollapseAllEventsType =\r\n  'primalMagic:activePrimalEvents:collapseAllEvents';\r\nconst ToggleSingleExpandedType =\r\n  'primalMagic:activePrimalEvents:toggleSingleExpanded';\r\nconst AddActivePrimalEventType =\r\n  'primalMagic:activePrimalEvents:addActivePrimalEvent';\r\n\r\nexport const expandAll = () => ({\r\n  type: ExpandAllEventsType,\r\n});\r\n\r\nexport const collapseAll = () => ({\r\n  type: CollapseAllEventsType,\r\n});\r\n\r\nexport const toggleSingleExpanded = id => ({\r\n  type: ToggleSingleExpandedType,\r\n  payload: id,\r\n});\r\n\r\nexport const addActivePrimalEvent = primalEvent => ({\r\n  type: AddActivePrimalEventType,\r\n  payload: primalEvent,\r\n});\r\n\r\nconst copyState = state => ({\r\n  ...state,\r\n  activePrimalEventsState: [...state.activePrimalEventsState],\r\n});\r\n\r\nconst handleExpandAll = state => {\r\n  const newState = copyState(state);\r\n  newState.activePrimalEventsState = newState.activePrimalEventsState.map(\r\n    activePrimalEvent => ({ ...activePrimalEvent, expanded: true })\r\n  );\r\n\r\n  return newState;\r\n};\r\n\r\nconst handleCollapseAll = state => {\r\n  const newState = copyState(state);\r\n  newState.activePrimalEventsState = newState.activePrimalEventsState.map(\r\n    activePrimalEvent => ({ ...activePrimalEvent, expanded: false })\r\n  );\r\n\r\n  return newState;\r\n};\r\n\r\nconst handleToggleSingleExpanded = (state, payload) => {\r\n  const newState = copyState(state);\r\n  const match = newState.activePrimalEventsState.find(\r\n    activePrimalEvent => activePrimalEvent.id === payload\r\n  );\r\n\r\n  if (!match) {\r\n    return newState;\r\n  }\r\n\r\n  const matchIndex = newState.activePrimalEventsState.indexOf(match);\r\n  const matchToggled = { ...match, expanded: !match.expanded };\r\n  newState.activePrimalEventsState[matchIndex] = matchToggled;\r\n  return newState;\r\n};\r\n\r\nconst handleAddActivePrimalEvent = (state, payload) => {\r\n  const newState = copyState(state);\r\n  newState.activePrimalEventsState.push(payload);\r\n  return newState;\r\n};\r\n\r\nexport const activePrimalEventsReducers = {\r\n  [ExpandAllEventsType]: handleExpandAll,\r\n  [CollapseAllEventsType]: handleCollapseAll,\r\n  [ToggleSingleExpandedType]: handleToggleSingleExpanded,\r\n  [AddActivePrimalEventType]: handleAddActivePrimalEvent,\r\n};\r\n","import React, { Fragment } from 'react';\r\n\r\nconst Condition = ({ name }) => {\r\n  return (\r\n    <Fragment>\r\n      <mark>\r\n        <a\r\n          href={`https://aonprd.com/Rules.aspx?Name=Conditions&Category=Combat#ctl00_MainContent_RulesResult:~:text=${name}:`}\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          {name}\r\n        </a>\r\n      </mark>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Condition;\r\n","import React, { Fragment } from 'react';\r\nimport Condition from '../../../common/conditionDisplay.component';\r\nimport VM, {\r\n  dist,\r\n  fortSave,\r\n  time,\r\n} from '../../../common/variableMark.component';\r\nimport {\r\n  makeConstantVariable,\r\n  makeVariable,\r\n} from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const blindingColours = {\r\n  percentileMin: 91,\r\n  percentileMax: 95,\r\n  title: 'Blinding Colours',\r\n  createVariables: () => ({\r\n    length: makeConstantVariable(40, '40 ft. length'),\r\n    width: makeConstantVariable(30, '30ft. width'),\r\n    duration: makeVariable(6),\r\n    save: makeConstantVariable(15, 'DC 15 Fortitude Save'),\r\n  }),\r\n};\r\n\r\nconst BlindingColoursEvent = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      Shimmering colours dance and play over a{' '}\r\n      <VM v={variables.length} u={dist} /> by{' '}\r\n      <VM v={variables.width} u={dist} /> area in front of the rod. Creatures\r\n      therein are <Condition name=\"Blinded\" /> for{' '}\r\n      <VM v={variables.duration} u={time} /> (\r\n      <VM v={variables.save} u={fortSave} /> negates)\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default BlindingColoursEvent;\r\n","import React, { Fragment } from 'react';\r\nimport Condition from '../../../common/conditionDisplay.component';\r\nimport VM, {\r\n  dist,\r\n  reflexSave,\r\n  time,\r\n} from '../../../common/variableMark.component';\r\nimport {\r\n  makeConstantVariable,\r\n  makeVariable,\r\n} from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const butterflyStream = {\r\n  percentileMin: 47,\r\n  percentileMax: 49,\r\n  title: 'Butterfly Stream',\r\n  createVariables: () => ({\r\n    duration: makeConstantVariable(2, '2 rounds'),\r\n    radius: makeConstantVariable(25, '25ft. radius'),\r\n    butteflyCount: makeVariable(100, 2, 400),\r\n    save: makeConstantVariable(14, 'DC 14 Reflex Save'),\r\n  }),\r\n};\r\n\r\nconst ButterflyStreamResult = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      A stream of <VM v={variables.butteflyCount} /> butterflies pours forth and\r\n      flutters around for <VM v={variables.duration} u={time} />, causing\r\n      everyone within a <VM v={variables.radius} u={dist} /> radius to become{' '}\r\n      <Condition name=\"Blinded\" /> while the butterfies block vision (\r\n      <VM v={variables.save} u={reflexSave} /> negates)\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ButterflyStreamResult;\r\n","import React, { Fragment } from 'react';\r\nimport { objectToArrayString } from '../../../common/utils';\r\nimport VM from '../../../common/variableMark.component';\r\nimport { makeVariable } from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const colourChange = {\r\n  percentileMin: 96,\r\n  percentileMax: 97,\r\n  title: 'Colour Change',\r\n  createVariables: () => ({\r\n    target: makeVariable(2),\r\n    colour: makeVariable(3),\r\n  }),\r\n};\r\n\r\nconst targets = {\r\n  1: 'wielder',\r\n  2: 'target',\r\n};\r\n\r\nconst handleTargets = {\r\n  getValues: variable => {\r\n    return {\r\n      value: targets[variable.result],\r\n    };\r\n  },\r\n  getToolTip: variable => {\r\n    return `1d2 [${variable.result}]: ${objectToArrayString(targets)}`;\r\n  },\r\n};\r\n\r\nconst colours = {\r\n  1: 'blue',\r\n  2: 'green',\r\n  3: 'purple',\r\n};\r\n\r\nconst handleColours = {\r\n  getValues: variable => {\r\n    return {\r\n      value: colours[variable.result],\r\n    };\r\n  },\r\n  getToolTip: variable => {\r\n    return `1d3 [${variable.result}]: ${objectToArrayString(colours)}`;\r\n  },\r\n};\r\n\r\nconst ColourChangeResult = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      The <VM v={variables.target} h={handleTargets} /> turns permanently{' '}\r\n      <VM v={variables.colour} h={handleColours} /> (no save).\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ColourChangeResult;\r\n","import React, { Fragment } from 'react';\r\nimport VM, { cl, time } from './variableMark.component';\r\n\r\nconst Spell = ({ name, linkName, casterLevel, save, saveType, duration }) => {\r\n  return (\r\n    <Fragment>\r\n      <a\r\n        href={`https://aonprd.com/SpellDisplay.aspx?ItemName=${encodeURIComponent(\r\n          linkName ?? name\r\n        )}`}\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n      >\r\n        {name}\r\n      </a>{' '}\r\n      spell (<VM v={casterLevel} u={cl} />\r\n      {duration || save ? '; ' : ''}\r\n      {duration && <VM v={duration} u={time} />}\r\n      {duration && save ? '; ' : ''}\r\n      {save && <VM v={save} u={saveType} />})\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nSpell.defaultProps = {\r\n  linkName: undefined,\r\n  save: undefined,\r\n  duration: undefined,\r\n};\r\n\r\nexport default Spell;\r\n","import React, { Fragment } from 'react';\r\nimport Spell from '../../../common/spellDisplay.component';\r\nimport VM, { direction, dist } from '../../../common/variableMark.component';\r\nimport {\r\n  makeConstantVariable,\r\n  makeVariable,\r\n} from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const darkness = {\r\n  percentileMin: 54,\r\n  percentileMax: 58,\r\n  title: 'Darkness',\r\n  createVariables: () => ({\r\n    duration: makeConstantVariable(10, '10 rounds'),\r\n    diameter: makeConstantVariable(30, '30ft diameter'),\r\n    distance: makeConstantVariable(30, '30ft away'),\r\n    cardinalDirection: makeVariable(8),\r\n  }),\r\n};\r\n\r\nconst DarknessResult = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      A <VM v={variables.diameter} u={dist} /> diameter hemisphere of the{' '}\r\n      <Spell\r\n        name=\"Darkness\"\r\n        casterLevel={variables.casterLevel}\r\n        duration={variables.duration}\r\n      />{' '}\r\n      appears <VM v={variables.distance} u={dist} /> to the{' '}\r\n      <VM v={variables.cardinalDirection} u={direction} /> of the rod\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default DarknessResult;\r\n","import React, { Fragment } from 'react';\r\nimport AonLink from '../../../common/linkDisplay.component';\r\nimport VM, { time } from '../../../common/variableMark.component';\r\nimport {\r\n  makeConstantVariable,\r\n  makeVariable,\r\n} from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const delusion = {\r\n  percentileMin: 11,\r\n  percentileMax: 15,\r\n  title: 'Delusion',\r\n  createVariables: () => ({\r\n    duration: makeConstantVariable(1, '1 round'),\r\n    secondDieRoll: makeVariable(100),\r\n  }),\r\n};\r\n\r\nconst DelusionResult = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      Deludes the wielder for <VM v={variables.duration} u={time} /> into\r\n      believing the rod functions as if they had rolled a{' '}\r\n      <VM v={variables.secondDieRoll} /> on the{' '}\r\n      <AonLink\r\n        name=\"Rod of Wonder table\"\r\n        link=\"https://aonprd.com/MagicRodsDisplay.aspx?FinalName=Rod%20of%20Wonder\"\r\n      />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default DelusionResult;\r\n","import React, { Fragment } from 'react';\r\nimport Spell from '../../../common/spellDisplay.component';\r\nimport VM, { time } from '../../../common/variableMark.component';\r\nimport { makeVariable } from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const detectThoughts = {\r\n  percentileMin: 21,\r\n  percentileMax: 25,\r\n  title: 'Detect Thoughts',\r\n  createVariables: () => ({\r\n    duration: makeVariable(4),\r\n  }),\r\n};\r\n\r\nconst DetectThoughtsResult = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      Wielder learns the target&apos;s surface thoughts (as with{' '}\r\n      <Spell name=\"Detect Thoughts\" casterLevel={variables.casterLevel} />) for{' '}\r\n      <VM v={variables.duration} u={time} />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default DetectThoughtsResult;\r\n","import React, { Fragment } from 'react';\r\nimport Spell from '../../../common/spellDisplay.component';\r\nimport VM, { dist, fortSave } from '../../../common/variableMark.component';\r\nimport { makeConstantVariable } from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const enlargePerson = {\r\n  percentileMin: 50,\r\n  percentileMax: 53,\r\n  title: 'Enlarge Person',\r\n  createVariables: () => ({\r\n    duration: makeConstantVariable(10, '10 rounds'),\r\n    distance: makeConstantVariable(60, 'within 60ft'),\r\n    save: makeConstantVariable(13, 'DC 13 Fortitude Save'),\r\n  }),\r\n};\r\n\r\nconst EnlargePersonResult = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      Target is affected by{' '}\r\n      <Spell\r\n        name=\"Enlarge Person\"\r\n        casterLevel={variables.casterLevel}\r\n        save={variables.save}\r\n        saveType={fortSave}\r\n        duration={variables.duration}\r\n      />{' '}\r\n      if within <VM v={variables.distance} u={dist} /> of the rod\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default EnlargePersonResult;\r\n","import { makeStyles, Tooltip } from '@material-ui/core';\r\nimport { lightBlue } from '@material-ui/core/colors';\r\nimport React, { Fragment } from 'react';\r\nimport VM, { dist, weight } from '../../../common/variableMark.component';\r\nimport { makeConstantVariable } from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nconst useStyles = makeStyles({\r\n  mark: {\r\n    backgroundColor: lightBlue[50],\r\n  },\r\n});\r\n\r\nexport const etherealObject = {\r\n  percentileMin: 63,\r\n  percentileMax: 65,\r\n  title: 'Ethereal Object',\r\n  createVariables: () => ({\r\n    mass: makeConstantVariable(1000, '1,000 lbs of mass'),\r\n    volume: makeConstantVariable(30, '30 cubic feet'),\r\n  }),\r\n};\r\n\r\nconst EtherealObjectResult = ({ variables }) => {\r\n  const classes = useStyles();\r\n\r\n  const etherealTooltip =\r\n    'An ethereal object is invisible, insubstantial, and exists on the Ethereal plane. ' +\r\n    'Creatures and solid objects on the Material plane can move through ethereal objects. ' +\r\n    'Force effects and abjurations affect ethereal objects normally, their effects extend onto ' +\r\n    'the Ethereal plane from the Material plane but not vice versa. ' +\r\n    'Certain material creatures or objects have attacks or effects that work on the Ethereal plane';\r\n\r\n  return (\r\n    <Fragment>\r\n      Any non-living object of up to <VM v={variables.mass} u={weight} /> of\r\n      mass and up to <VM v={variables.volume} u={dist} /> cube in size turns{' '}\r\n      <Tooltip title={etherealTooltip} placement=\"left\">\r\n        <mark className={classes.mark}>Ethereal</mark>\r\n      </Tooltip>\r\n      .\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default EtherealObjectResult;\r\n","import React, { Fragment } from 'react';\r\nimport Spell from '../../../common/spellDisplay.component';\r\nimport { makeConstantVariable } from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const faerieFire = {\r\n  percentileMin: 6,\r\n  percentileMax: 10,\r\n  title: 'Faerie Fire',\r\n  createVariables: () => ({\r\n    duration: makeConstantVariable(10 * 10, 'Rod CL = 10; 10 minutes'),\r\n    save: makeConstantVariable(15, 'DC 15 Will Save'),\r\n  }),\r\n};\r\n\r\nconst FaerieFireResult = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      <Spell\r\n        name=\"Faerie Fire\"\r\n        casterLevel={variables.casterLevel}\r\n        duration={variables.duration}\r\n      />{' '}\r\n      surrounds the target.\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default FaerieFireResult;\r\n","import React, { Fragment } from 'react';\r\nimport Spell from '../../../common/spellDisplay.component';\r\nimport VM, { dist, reflexSave } from '../../../common/variableMark.component';\r\nimport {\r\n  makeConstantVariable,\r\n  makeVariable,\r\n} from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const fireball = {\r\n  percentileMin: 70,\r\n  percentileMax: 79,\r\n  title: 'Fireball',\r\n  createVariables: () => ({\r\n    save: makeConstantVariable(15, 'DC 15 Reflex Save'),\r\n    distance: makeConstantVariable(100, '100ft straight ahead'),\r\n    damage: makeVariable(6, 6),\r\n  }),\r\n};\r\n\r\nconst FireballResult = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      The wielder fires a{' '}\r\n      <Spell\r\n        name=\"Fireball\"\r\n        casterLevel={variables.casterLevel}\r\n        save={variables.save}\r\n        saveType={reflexSave}\r\n      />{' '}\r\n      straight ahead up to <VM v={variables.distance} u={dist} /> dealing{' '}\r\n      <VM v={variables.damage} /> points of damage.\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default FireballResult;\r\n","import React, { Fragment } from 'react';\r\nimport Spell from '../../../common/spellDisplay.component';\r\nimport VM, { dist, fortSave } from '../../../common/variableMark.component';\r\nimport { makeConstantVariable } from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const fleshToStone = {\r\n  percentileMin: 98,\r\n  percentileMax: 100,\r\n  title: 'Flesh to Stone',\r\n  createVariables: () => ({\r\n    distance: makeConstantVariable(60, '60ft. away'),\r\n    save: makeConstantVariable(18, 'DC 18 Fortitude'),\r\n  }),\r\n};\r\n\r\nconst FleshToStoneResult = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      The target is affected by a{' '}\r\n      <Spell\r\n        name=\"Flesh to Stone\"\r\n        casterLevel={variables.casterLevel}\r\n        save={variables.save}\r\n        saveType={fortSave}\r\n      />{' '}\r\n      (or stone to flesh, if the target is already stone) as long as they are\r\n      within <VM v={variables.distance} u={dist} /> of the wielder.\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default FleshToStoneResult;\r\n","import React, { Fragment } from 'react';\r\nimport VM, { dist } from '../../../common/variableMark.component';\r\nimport {\r\n  makeConstantVariable,\r\n  makeVariable,\r\n} from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const gems = {\r\n  percentileMin: 88,\r\n  percentileMax: 90,\r\n  title: 'Gems',\r\n  createVariables: () => ({\r\n    gemCount: makeVariable(10, 3, 10),\r\n    distance: makeConstantVariable(30, '30ft long stream'),\r\n    damage: makeConstantVariable(1, '1 damage'),\r\n    numberOfHits: makeVariable(4, 5),\r\n  }),\r\n};\r\n\r\nconst GemsResult = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      <VM v={variables.gemCount} /> gemstones, <mark>valued at 1gp each</mark>,\r\n      shoot forth from the rod in a <VM v={variables.distance} u={dist} /> long\r\n      stream. <VM v={variables.numberOfHits} /> of these gemstones{' '}\r\n      <mark>hit creatures along the path</mark>. Divide these hits evenly among\r\n      the available targets to determine the damage each creature takes.\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default GemsResult;\r\n","import React, { Fragment } from 'react';\r\nimport VM, { dist } from '../../../common/variableMark.component';\r\nimport { makeConstantVariable } from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const grass = {\r\n  percentileMin: 59,\r\n  percentileMax: 62,\r\n  title: 'Grass',\r\n  createVariables: () => ({\r\n    area: makeConstantVariable(160, '160ft. square'),\r\n    existingGrowthAmount: makeConstantVariable(10, '10x normal size'),\r\n  }),\r\n};\r\n\r\nconst GrassResult = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      Grass grows in a <VM v={variables.area} u={dist} /> square immediately in\r\n      front of the rod, or any existing grass there grows to{' '}\r\n      <VM v={variables.existingGrowthAmount} /> times its normal size.\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default GrassResult;\r\n","import React, { Fragment } from 'react';\r\nimport Spell from '../../../common/spellDisplay.component';\r\nimport { fortSave } from '../../../common/variableMark.component';\r\nimport { makeConstantVariable } from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const gustOfWind = {\r\n  percentileMin: 16,\r\n  percentileMax: 20,\r\n  title: 'Gust of Wind',\r\n  createVariables: () => ({\r\n    duration: makeConstantVariable(1, '1 round'),\r\n    save: makeConstantVariable(14, 'DC 14 Fortitude Save'),\r\n  }),\r\n};\r\n\r\nconst GustOfWindResult = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      <Spell\r\n        name=\"Gust of Wind\"\r\n        casterLevel={variables.casterLevel}\r\n        save={variables.save}\r\n        saveType={fortSave}\r\n        duration={variables.duration}\r\n      />\r\n      , but at <mark>windstorm</mark> force\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default GustOfWindResult;\r\n","import React, { Fragment } from 'react';\r\nimport AonLink from '../../../common/linkDisplay.component';\r\nimport VM, { dist, time } from '../../../common/variableMark.component';\r\nimport { makeConstantVariable } from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const heavyRain = {\r\n  percentileMin: 31,\r\n  percentileMax: 33,\r\n  title: 'Heavy Rain',\r\n  createVariables: () => ({\r\n    duration: makeConstantVariable(1, '1 round'),\r\n    radius: makeConstantVariable(60, '60ft. Radius'),\r\n  }),\r\n};\r\n\r\nconst HeavyRainResult = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      <AonLink\r\n        link=\"https://aonprd.com/Rules.aspx?Name=Rain,%20Snow,%20Sleet,%20and%20Hail&Category=Weather#ctl00_MainContent_RulesResult:~:text=Rain:\"\r\n        name=\"Heavy Rain\"\r\n      />{' '}\r\n      falls for <VM v={variables.duration} u={time} /> in a{' '}\r\n      <VM v={variables.radius} u={dist} /> radius centered on the rod wielder\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default HeavyRainResult;\r\n","import React, { Fragment } from 'react';\r\nimport Spell from '../../../common/spellDisplay.component';\r\nimport { makeConstantVariable } from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const invisibility = {\r\n  percentileMin: 80,\r\n  percentileMax: 84,\r\n  title: 'Invisibility',\r\n  createVariables: () => ({\r\n    duration: makeConstantVariable(10 * 10, '10 minutes'),\r\n  }),\r\n};\r\n\r\nconst InvisibilityResult = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      The wielder turns invisible as per the{' '}\r\n      <Spell\r\n        name=\"Invisibility\"\r\n        casterLevel={variables.casterLevel}\r\n        duration={variables.duration}\r\n      />\r\n      .\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default InvisibilityResult;\r\n","import React, { Fragment } from 'react';\r\nimport VM, { dist, time } from '../../../common/variableMark.component';\r\nimport { makeConstantVariable } from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const leaves = {\r\n  percentileMin: 85,\r\n  percentileMax: 87,\r\n  title: 'Leaves',\r\n  createVariables: () => ({\r\n    distance: makeConstantVariable(60, '60ft.'),\r\n    duration: makeConstantVariable(24 * 60 * 10, '1 day'),\r\n  }),\r\n};\r\n\r\nconst LeavesResult = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      Leaves grows from the target&apos;s body, if the target is within{' '}\r\n      <VM v={variables.distance} u={dist} />. These last for{' '}\r\n      <VM v={variables.duration} u={time} />.\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default LeavesResult;\r\n","import React, { Fragment } from 'react';\r\nimport Spell from '../../../common/spellDisplay.component';\r\nimport VM, { reflexSave } from '../../../common/variableMark.component';\r\nimport {\r\n  makeConstantVariable,\r\n  makeVariable,\r\n} from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const lightningBolt = {\r\n  percentileMin: 37,\r\n  percentileMax: 46,\r\n  title: 'Lightning Bolt',\r\n  createVariables: () => ({\r\n    length: makeConstantVariable(70, '70ft. long'),\r\n    damage: makeVariable(6, 6),\r\n    save: makeConstantVariable(15, 'DC 15 Reflex Save'),\r\n  }),\r\n};\r\n\r\nconst LightningBoltEvent = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      <Spell\r\n        name=\"Lightning Bolt\"\r\n        casterLevel={variables.casterLevel}\r\n        save={variables.save}\r\n        saveType={reflexSave}\r\n      />{' '}\r\n      dealing <VM v={variables.damage} /> damage\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default LightningBoltEvent;\r\n","import React, { Fragment } from 'react';\r\nimport VM, { time } from '../../../common/variableMark.component';\r\nimport { makeConstantVariable } from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const reduceWielder = {\r\n  percentileMin: 66,\r\n  percentileMax: 69,\r\n  title: 'Reduce Wielder',\r\n  createVariables: () => ({\r\n    duration: makeConstantVariable(24 * 60 * 10, '1 day'),\r\n  }),\r\n};\r\n\r\nconst ReduceWielderResult = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      Reduce the wielder two size categories <mark>(no save)</mark> for{' '}\r\n      <VM v={variables.duration} u={time} />.\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ReduceWielderResult;\r\n","import React, { Fragment } from 'react';\r\nimport Spell from '../../../common/spellDisplay.component';\r\nimport { willSave } from '../../../common/variableMark.component';\r\nimport { makeConstantVariable } from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const slow = {\r\n  percentileMin: 1,\r\n  percentileMax: 5,\r\n  title: 'Slow',\r\n  createVariables: () => ({\r\n    duration: makeConstantVariable(10, 'Rod CL = 10; 10 minutes'),\r\n    save: makeConstantVariable(15, 'DC 15 Will Save'),\r\n  }),\r\n};\r\n\r\nconst SlowResult = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      Target affected by a{' '}\r\n      <Spell\r\n        name=\"Slow\"\r\n        casterLevel={variables.casterLevel}\r\n        save={variables.save}\r\n        saveType={willSave}\r\n        duration={variables.duration}\r\n      />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default SlowResult;\r\n","import React, { Fragment } from 'react';\r\nimport Spell from '../../../common/spellDisplay.component';\r\nimport VM, { dist, fortSave } from '../../../common/variableMark.component';\r\nimport { makeConstantVariable } from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const stinkingCloud = {\r\n  percentileMin: 26,\r\n  percentileMax: 30,\r\n  title: 'Stinking Cloud',\r\n  createVariables: () => ({\r\n    duration: makeConstantVariable(10, 'Rod CL = 10; 10 rounds'),\r\n    distance: makeConstantVariable(30, '30-foot range'),\r\n    save: makeConstantVariable(15, 'DC 15 Fortitude Save'),\r\n  }),\r\n};\r\n\r\nconst StinkingCloudResult = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      <Spell\r\n        name=\"Stinking Cloud\"\r\n        casterLevel={variables.casterLevel}\r\n        save={variables.save}\r\n        saveType={fortSave}\r\n        duration={variables.duration}\r\n      />{' '}\r\n      appears at a <VM v={variables.distance} u={dist} /> range.\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default StinkingCloudResult;\r\n","import React, { Fragment } from 'react';\r\nimport AonLink from '../../../common/linkDisplay.component';\r\nimport VM from '../../../common/variableMark.component';\r\nimport { makeVariable } from '../../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const summonAnimal = {\r\n  percentileMin: 34,\r\n  percentileMax: 36,\r\n  title: 'Summon Animal',\r\n  createVariables: () => ({\r\n    animalSummonPercentile: makeVariable(100),\r\n  }),\r\n};\r\n\r\nconst handleAnimalType = {\r\n  getValues: variable => {\r\n    if (variable.result <= 25) {\r\n      return {\r\n        value: (\r\n          <Fragment>\r\n            a{' '}\r\n            <AonLink\r\n              link=\"https://aonprd.com/MonsterDisplay.aspx?ItemName=Rhinoceros\"\r\n              name=\"rhino\"\r\n              noHighlight\r\n            />\r\n          </Fragment>\r\n        ),\r\n      };\r\n    }\r\n\r\n    if (variable.result <= 50) {\r\n      return {\r\n        value: (\r\n          <Fragment>\r\n            an{' '}\r\n            <AonLink\r\n              link=\"https://aonprd.com/MonsterDisplay.aspx?ItemName=Elephant\"\r\n              name=\"elephant\"\r\n              noHighlight\r\n            />\r\n          </Fragment>\r\n        ),\r\n      };\r\n    }\r\n\r\n    return {\r\n      value: (\r\n        <Fragment>\r\n          a{' '}\r\n          <AonLink\r\n            link=\"https://aonprd.com/MonsterDisplay.aspx?ItemName=Rat\"\r\n            name=\"mouse\"\r\n            noHighlight\r\n          />\r\n        </Fragment>\r\n      ),\r\n    };\r\n  },\r\n  getToolTip: variable => {\r\n    return `1d% [${variable.result}]: 01-25=rhino; 26-50=elephant; 51-100=mouse`;\r\n  },\r\n};\r\n\r\nconst SummonAnimalResult = ({ variables }) => {\r\n  return (\r\n    <Fragment>\r\n      Summons <VM v={variables.animalSummonPercentile} h={handleAnimalType} />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default SummonAnimalResult;\r\n","import React from 'react';\r\nimport BlindingColoursEvent, {\r\n  blindingColours,\r\n} from './blindingColoursResult.component';\r\nimport ButterflyStreamResult, {\r\n  butterflyStream,\r\n} from './butterflyStreamResult.component';\r\nimport ColourChangeResult, {\r\n  colourChange,\r\n} from './colourChangeResult.component';\r\nimport DarknessResult, { darkness } from './darknessResult.component';\r\nimport DelusionResult, { delusion } from './delusionResult.component';\r\nimport DetectThoughtsResult, {\r\n  detectThoughts,\r\n} from './detectThoughtsResult.component';\r\nimport EnlargePersonResult, {\r\n  enlargePerson,\r\n} from './enlargePersonResult.component';\r\nimport EtherealObjectResult, {\r\n  etherealObject,\r\n} from './etherealObjectResult.component';\r\nimport FaerieFireResult, { faerieFire } from './faerieFireResult.component';\r\nimport FireballResult, { fireball } from './fireballResult.component';\r\nimport FleshToStoneResult, {\r\n  fleshToStone,\r\n} from './fleshToStoneResult.component';\r\nimport GemsResult, { gems } from './gemsResult.component';\r\nimport GrassResult, { grass } from './grassResult.component';\r\nimport GustOfWindResult, { gustOfWind } from './gustOfWindResult.component';\r\nimport HeavyRainResult, { heavyRain } from './heavyRainResult.component';\r\nimport InvisibilityResult, {\r\n  invisibility,\r\n} from './invisibilityResult.component';\r\nimport LeavesResult, { leaves } from './leavesResult.component';\r\nimport LightningBoltEvent, {\r\n  lightningBolt,\r\n} from './lightningBoltResult.component';\r\nimport ReduceWielderResult, {\r\n  reduceWielder,\r\n} from './reduceWielderResult.component';\r\nimport SlowResult, { slow } from './slowResult.component';\r\nimport StinkingCloudResult, { stinkingCloud } from './stinkingCloud.component';\r\nimport SummonAnimalResult, {\r\n  summonAnimal,\r\n} from './summonAnimalResult.component';\r\n\r\nexport const getRodOfWonderComponent = (rodResult, variables) => {\r\n  if (rodResult.title === slow.title) {\r\n    return <SlowResult variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === faerieFire.title) {\r\n    return <FaerieFireResult variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === delusion.title) {\r\n    return <DelusionResult variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === gustOfWind.title) {\r\n    return <GustOfWindResult variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === detectThoughts.title) {\r\n    return <DetectThoughtsResult variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === stinkingCloud.title) {\r\n    return <StinkingCloudResult variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === heavyRain.title) {\r\n    return <HeavyRainResult variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === summonAnimal.title) {\r\n    return <SummonAnimalResult variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === lightningBolt.title) {\r\n    return <LightningBoltEvent variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === butterflyStream.title) {\r\n    return <ButterflyStreamResult variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === enlargePerson.title) {\r\n    return <EnlargePersonResult variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === darkness.title) {\r\n    return <DarknessResult variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === grass.title) {\r\n    return <GrassResult variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === etherealObject.title) {\r\n    return <EtherealObjectResult variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === reduceWielder.title) {\r\n    return <ReduceWielderResult variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === fireball.title) {\r\n    return <FireballResult variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === invisibility.title) {\r\n    return <InvisibilityResult variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === leaves.title) {\r\n    return <LeavesResult variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === gems.title) {\r\n    return <GemsResult variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === blindingColours.title) {\r\n    return <BlindingColoursEvent variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === colourChange.title) {\r\n    return <ColourChangeResult variables={variables} />;\r\n  }\r\n\r\n  if (rodResult.title === fleshToStone.title) {\r\n    return <FleshToStoneResult variables={variables} />;\r\n  }\r\n\r\n  return <div>UNKNOWN ROD OF WONDER RESULT {rodResult.title}</div>;\r\n};\r\n\r\nexport const rodOfWonderResults = [\r\n  slow,\r\n  faerieFire,\r\n  delusion,\r\n  gustOfWind,\r\n  detectThoughts,\r\n  stinkingCloud,\r\n  heavyRain,\r\n  summonAnimal,\r\n  lightningBolt,\r\n  butterflyStream,\r\n  enlargePerson,\r\n  darkness,\r\n  grass,\r\n  etherealObject,\r\n  reduceWielder,\r\n  fireball,\r\n  invisibility,\r\n  leaves,\r\n  gems,\r\n  blindingColours,\r\n  colourChange,\r\n  fleshToStone,\r\n];\r\n\r\nexport const getRodResult = percentileRoll => {\r\n  const results = rodOfWonderResults.filter(\r\n    e => percentileRoll >= e.percentileMin && percentileRoll <= e.percentileMax\r\n  );\r\n\r\n  if (results.length === 0) {\r\n    return rodOfWonderResults[0];\r\n  }\r\n\r\n  return results[0];\r\n};\r\n\r\nexport const getRodResultByTitle = title => {\r\n  const results = rodOfWonderResults.filter(e => e.title === title);\r\n\r\n  if (results.length === 0) {\r\n    return rodOfWonderResults[0];\r\n  }\r\n\r\n  return results[0];\r\n};\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport CustomChip from '../../common/customChip.component';\r\nimport DurationEndChip from '../../common/durationChip.component';\r\nimport AonLink from '../../common/linkDisplay.component';\r\nimport VM from '../../common/variableMark.component';\r\nimport {\r\n  makeConstantVariable,\r\n  makeVariable,\r\n} from '../../state/activePrimalEvents/activePrimalEventsState';\r\nimport {\r\n  getRodOfWonderComponent,\r\n  getRodResult,\r\n  getRodResultByTitle,\r\n} from './rodOfWonderResults/rodOfWonderResults';\r\n\r\nexport const wonderousMagic = {\r\n  percentileMin: 79,\r\n  percentileMax: 88,\r\n  title: 'Wonderous Magic',\r\n  createVariables: (_, rodOfWonderEventAlwaysSelected) => {\r\n    const match = rodOfWonderEventAlwaysSelected\r\n      ? getRodResultByTitle(rodOfWonderEventAlwaysSelected)\r\n      : undefined;\r\n    const rodOfWonderPercentile = makeVariable(100);\r\n\r\n    if (match) {\r\n      rodOfWonderPercentile.result = match.percentileMin;\r\n    }\r\n\r\n    const rodOfWonderVariables = getRodResult(\r\n      rodOfWonderPercentile.result\r\n    ).createVariables();\r\n\r\n    return {\r\n      duration: makeConstantVariable(0), // May get over-written by the specific rod result\r\n      casterLevel: makeConstantVariable(10, 'Rod CL = 10'),\r\n      rodOfWonderPercentile,\r\n      ...rodOfWonderVariables,\r\n    };\r\n  },\r\n};\r\n\r\nconst WonderousMagicEvent = ({ event }) => {\r\n  const { cr, variables, percentileRoll, startRound, finalRound } = event;\r\n  const { result: crVal } = cr;\r\n  const { rodOfWonderPercentile, duration } = variables;\r\n\r\n  const rodResult = getRodResult(rodOfWonderPercentile.result);\r\n  const rodComponent = getRodOfWonderComponent(rodResult, variables);\r\n  const isInstantaneous = duration?.modifier === 0 && duration?.diceSize === 0;\r\n\r\n  return (\r\n    <Fragment>\r\n      <Box>\r\n        <CustomChip label=\"d%\" value={percentileRoll} />\r\n        <CustomChip label=\"CR\" value={crVal} />\r\n        <CustomChip label=\"Start\" value={startRound} />\r\n        <DurationEndChip value={isInstantaneous ? undefined : finalRound} />\r\n      </Box>\r\n      <Typography>\r\n        Choose two random creatures in the area, then randomly pick one to be\r\n        the &quot;wielder&quot; and one to be the &quot;target&quot;. A roll of{' '}\r\n        <VM v={rodOfWonderPercentile} /> on the{' '}\r\n        <AonLink\r\n          name=\"Rod of Wonder table\"\r\n          link=\"https://aonprd.com/MagicRodsDisplay.aspx?FinalName=Rod%20of%20Wonder\"\r\n        />{' '}\r\n        has determined the strange effect that occurs between these two\r\n        creatures: <br /> <br />\r\n        {rodComponent}\r\n      </Typography>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default WonderousMagicEvent;\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport Condition from '../../common/conditionDisplay.component';\r\nimport CustomChip from '../../common/customChip.component';\r\nimport DurationEndChip from '../../common/durationChip.component';\r\nimport VM, { dist, time, willSave } from '../../common/variableMark.component';\r\nimport { makeConstantVariable } from '../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const auroraBorealis = {\r\n  percentileMin: 55,\r\n  percentileMax: 62,\r\n  title: 'Aurora Borealis',\r\n  createVariables: cr => ({\r\n    radius: makeConstantVariable(cr * 10, 'CR x 10ft.'),\r\n    save: makeConstantVariable(cr + 10, 'Will Save DC = CR + 10'),\r\n    duration: makeConstantVariable(cr, 'CR rounds'),\r\n  }),\r\n};\r\n\r\nconst AuroraBorealisEvent = ({ event }) => {\r\n  const { cr, variables, percentileRoll, startRound, finalRound } = event;\r\n  const { result: crVal } = cr;\r\n  const { radius, duration, save } = variables;\r\n  return (\r\n    <Fragment>\r\n      <Box>\r\n        <CustomChip label=\"d%\" value={percentileRoll} />\r\n        <CustomChip label=\"CR\" value={crVal} />\r\n        <CustomChip label=\"Start\" value={startRound} />\r\n        <DurationEndChip value={finalRound} />\r\n        <CustomChip label=\"Will Save\" value={save?.result} />\r\n      </Box>\r\n      <Typography>\r\n        Strange, shifting curtains of colour, akin to an aurora borealis,\r\n        manifest in the sky but are visible only to those in a{' '}\r\n        <VM v={radius} u={dist} /> radius. Every creature in this area must make\r\n        a <VM v={save} u={willSave} /> or become <Condition name=\"Dazed\" /> by\r\n        the shifting colours <mark>for 1 round</mark>. The colours persist for{' '}\r\n        <VM v={duration} u={time} />. Creatures must make a{' '}\r\n        <mark>new save each round</mark> to avoid becoming dazed. This is a\r\n        mind-affecting effect.\r\n      </Typography>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default AuroraBorealisEvent;\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport CustomChip from '../../common/customChip.component';\r\nimport DurationEndChip from '../../common/durationChip.component';\r\nimport { objectToArrayString } from '../../common/utils';\r\nimport VM, { time } from '../../common/variableMark.component';\r\nimport {\r\n  makeConstantVariable,\r\n  makeVariable,\r\n} from '../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const catchyMusic = {\r\n  percentileMin: 11,\r\n  percentileMax: 14,\r\n  title: 'Catchy Music',\r\n  createVariables: cr => ({\r\n    duration: makeConstantVariable(cr * 10, 'CR mins'),\r\n    chantType: makeVariable(4), // 1d4; 1=Ulfen battle chants, 2=Chelish opera arias, 3=Desnan Prayers, 4=Vudrani monastic chants\r\n  }),\r\n};\r\n\r\nconst battleChants = {\r\n  1: 'Ulfen battle chants',\r\n  2: 'Chelish opera arias',\r\n  3: 'Desnan prayers',\r\n  4: 'Vudrani monastic chants',\r\n};\r\n\r\nconst handleChant = {\r\n  getValues: variable => {\r\n    return {\r\n      value: battleChants[variable.result],\r\n      unit: undefined,\r\n    };\r\n  },\r\n  getToolTip: variable => {\r\n    return `1d4 [${variable.result}]: ${objectToArrayString(battleChants)}`;\r\n  },\r\n};\r\n\r\nconst CatchyMusicEvent = ({ event }) => {\r\n  const { cr, variables, percentileRoll, startRound, finalRound } = event;\r\n  const { result: crVal } = cr;\r\n  const { duration, chantType } = variables;\r\n  return (\r\n    <Fragment>\r\n      <Box>\r\n        <CustomChip label=\"d%\" value={percentileRoll} />\r\n        <CustomChip label=\"CR\" value={crVal} />\r\n        <CustomChip label=\"Start\" value={startRound} />\r\n        <DurationEndChip value={finalRound} />\r\n      </Box>\r\n      <Typography>\r\n        Strange music fills the air for <VM v={duration} u={time} />. The music\r\n        reminds you of <VM v={chantType} h={handleChant} />. Those who hear the\r\n        music are instilled with a strong urge to sing or dance along. A\r\n        creature who does so gains a{' '}\r\n        <mark>+2 morale bonus on attack rolls and saving throws</mark> for the\r\n        duration of the music. heads in the direction of the Pit of Gormuz.\r\n      </Typography>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default CatchyMusicEvent;\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport CustomChip from '../../common/customChip.component';\r\nimport DurationEndChip from '../../common/durationChip.component';\r\nimport VM from '../../common/variableMark.component';\r\nimport {\r\n  makeConstantVariable,\r\n  makeVariable,\r\n} from '../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const centipedes = {\r\n  percentileMin: 7,\r\n  percentileMax: 10,\r\n  title: 'Centipedes',\r\n  createVariables: () => ({\r\n    duration: makeConstantVariable(0),\r\n    centipedeCount: makeVariable(6), // new - centipede count, need to figure out how this works to make the CR total work\r\n  }),\r\n};\r\n\r\nconst handleCentipedes = {\r\n  getValues: variable => {\r\n    return {\r\n      value: variable.result,\r\n      unit: 'strangely coloured centipedes',\r\n    };\r\n  },\r\n};\r\n\r\nconst CentipedesEvent = ({ event }) => {\r\n  const { cr, variables, percentileRoll, startRound } = event;\r\n  const { result: crVal } = cr;\r\n  const { centipedeCount } = variables;\r\n  return (\r\n    <Fragment>\r\n      <Box>\r\n        <CustomChip label=\"d%\" value={percentileRoll} />\r\n        <CustomChip label=\"CR\" value={crVal} />\r\n        <CustomChip label=\"Start\" value={startRound} />\r\n        <DurationEndChip />\r\n      </Box>\r\n      <Typography>\r\n        <VM v={centipedeCount} h={handleCentipedes} /> appear in the area. These\r\n        centipedes <mark>ignore non-spellcasters</mark> and attack only\r\n        creatures capable of casting spells or using spell-like abilities. This\r\n        encounter should be a mix of centipedes that equals the CR of the primal\r\n        magic event. The corpses of any slaind centipedes pivot their heads in\r\n        the direction of the Pit of Gormuz.\r\n      </Typography>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default CentipedesEvent;\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport Condition from '../../common/conditionDisplay.component';\r\nimport CustomChip from '../../common/customChip.component';\r\nimport DurationEndChip from '../../common/durationChip.component';\r\nimport VM, { dist, time, willSave } from '../../common/variableMark.component';\r\nimport { makeConstantVariable } from '../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const colourDrain = {\r\n  percentileMin: 1,\r\n  percentileMax: 6,\r\n  title: 'Colour Drain',\r\n  createVariables: cr => ({\r\n    radius: makeConstantVariable(cr * 5, 'CR x 5ft.'),\r\n    duration: makeConstantVariable(cr * 10, 'CR mins'),\r\n    save: makeConstantVariable(15, 'DC 15 Will Save'),\r\n  }),\r\n};\r\n\r\nconst ColourDrainEvent = ({ event }) => {\r\n  const { cr, variables, percentileRoll, startRound, finalRound } = event;\r\n  const { result: crVal } = cr;\r\n  const { radius, duration, save } = variables;\r\n  return (\r\n    <Fragment>\r\n      <Box>\r\n        <CustomChip label=\"d%\" value={percentileRoll} />\r\n        <CustomChip label=\"CR\" value={crVal} />\r\n        <CustomChip label=\"Start\" value={startRound} />\r\n        <DurationEndChip value={finalRound} />\r\n        <CustomChip label=\"Will Save\" value={save?.result} />\r\n      </Box>\r\n      <Typography>\r\n        Creatures and objects within a <VM v={radius} u={dist} /> radius are\r\n        drained of colour for <VM v={duration} u={time} />. A gnome in this area\r\n        must succeed at a <VM v={save} u={willSave} /> to avoid being{' '}\r\n        <Condition name=\"Shaken\" /> by this effect for the duration of the loss\r\n        of colour. This is a mind-affecting fear effect.\r\n      </Typography>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ColourDrainEvent;\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport CustomChip from '../../common/customChip.component';\r\nimport DurationEndChip from '../../common/durationChip.component';\r\nimport VM from '../../common/variableMark.component';\r\nimport {\r\n  makeConstantVariable,\r\n  makeVariable,\r\n} from '../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const elementalUprising = {\r\n  percentileMin: 49,\r\n  percentileMax: 54,\r\n  title: 'Elemental Uprising',\r\n  createVariables: () => ({\r\n    duration: makeConstantVariable(0),\r\n    elementalCount: makeVariable(6), // new - elemental count, need to figure out how this works to make the CR total work\r\n  }),\r\n};\r\n\r\nconst handleElementals = {\r\n  getValues: variable => {\r\n    return {\r\n      value: variable.result,\r\n      unit: 'terrain-appropriate elementals',\r\n    };\r\n  },\r\n};\r\n\r\nconst ElementalUprisingEvent = ({ event }) => {\r\n  const { cr, variables, percentileRoll, startRound } = event;\r\n  const { result: crVal } = cr;\r\n  const { elementalCount } = variables;\r\n  return (\r\n    <Fragment>\r\n      <Box>\r\n        <CustomChip label=\"d%\" value={percentileRoll} />\r\n        <CustomChip label=\"CR\" value={crVal} />\r\n        <CustomChip label=\"Start\" value={startRound} />\r\n        <DurationEndChip />\r\n      </Box>\r\n      <Typography>\r\n        The enviroment suddenly springs to life and attacks all{' '}\r\n        <mark>non-elemental creatures</mark> in the immediate area. This is an\r\n        encounter with <VM v={elementalCount} h={handleElementals} /> drawn from\r\n        the surroundings with mix of elementals that equals the CR of the primal\r\n        magic event.\r\n      </Typography>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ElementalUprisingEvent;\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport CustomChip from '../../common/customChip.component';\r\nimport DurationEndChip from '../../common/durationChip.component';\r\nimport { makeConstantVariable } from '../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const enantiomaticSelf = {\r\n  percentileMin: 19,\r\n  percentileMax: 22,\r\n  title: 'Enantiomatic Self',\r\n  createVariables: () => ({\r\n    duration: makeConstantVariable(0),\r\n  }),\r\n};\r\n\r\nconst EnantiomaticSelfEvent = ({ event }) => {\r\n  const { cr, percentileRoll, startRound } = event;\r\n  const { result: crVal } = cr;\r\n  return (\r\n    <Fragment>\r\n      <Box>\r\n        <CustomChip label=\"d%\" value={percentileRoll} />\r\n        <CustomChip label=\"CR\" value={crVal} />\r\n        <CustomChip label=\"Start\" value={startRound} />\r\n        <DurationEndChip />\r\n      </Box>\r\n      <Typography>\r\n        One creature&apos;s body and all its posessions reverse into a mirror\r\n        image of themselves. The binding of any book in its posession is\r\n        reversed, though the text within remains normal and legible. This effect\r\n        is unusal but has <mark>no actual game effect</mark>. Reversing this\r\n        effect is possible via break enchantment, limited wish, miracle,\r\n        polymorph and object, or wish.\r\n      </Typography>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default EnantiomaticSelfEvent;\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport CustomChip from '../../common/customChip.component';\r\nimport DurationEndChip from '../../common/durationChip.component';\r\nimport { objectToArrayString } from '../../common/utils';\r\nimport VM, {\r\n  dist,\r\n  reflexSave,\r\n  time,\r\n} from '../../common/variableMark.component';\r\nimport {\r\n  makeConstantVariable,\r\n  makeVariable,\r\n} from '../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const energyStorm = {\r\n  percentileMin: 69,\r\n  percentileMax: 74,\r\n  title: 'Energy Storm',\r\n  createVariables: cr => ({\r\n    energyType: makeVariable(4, 1, 0, ''), // 1d4; 1=acid, 2=cold, 3=electricity, 4=fire\r\n    radius: makeConstantVariable(cr * 5, 'CR x 5ft.'),\r\n    damage: makeConstantVariable(cr * 2, 'CR x 2 damage'),\r\n    duration: makeConstantVariable(cr, 'CR rounds'),\r\n    save: makeConstantVariable(cr + 10, 'Reflex Save DC = CR + 10'),\r\n  }),\r\n};\r\n\r\nconst energyTypes = {\r\n  1: 'acid',\r\n  2: 'cold',\r\n  3: 'electricity',\r\n  4: 'fire',\r\n};\r\n\r\nconst handleEnergyType = {\r\n  getValues: variable => {\r\n    return {\r\n      value: energyTypes[variable.result],\r\n      unit: 'energy',\r\n    };\r\n  },\r\n  getToolTip: variable => {\r\n    return `1d4 [${variable.result}]: ${objectToArrayString(energyTypes)}`;\r\n  },\r\n};\r\n\r\nconst EnergyStormEvent = ({ event }) => {\r\n  const { cr, variables, percentileRoll, startRound, finalRound } = event;\r\n  const { result: crVal } = cr;\r\n  const { energyType, radius, damage, duration, save } = variables;\r\n  return (\r\n    <Fragment>\r\n      <Box>\r\n        <CustomChip label=\"d%\" value={percentileRoll} />\r\n        <CustomChip label=\"CR\" value={crVal} />\r\n        <CustomChip label=\"Start\" value={startRound} />\r\n        <DurationEndChip value={finalRound} />\r\n        <CustomChip label=\"Reflex Save\" value={save?.result} />\r\n      </Box>\r\n      <Typography>\r\n        A storm of <VM v={energyType} h={handleEnergyType} /> sweeps through a{' '}\r\n        <VM v={radius} u={dist} /> radius spread. Each round, the storm inflicts{' '}\r\n        <VM v={damage} /> points of damage; a <VM v={save} u={reflexSave} />{' '}\r\n        halves the damage done. The storm persists for{' '}\r\n        <VM v={duration} u={time} />\r\n      </Typography>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default EnergyStormEvent;\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport CustomChip from '../../common/customChip.component';\r\nimport DurationEndChip from '../../common/durationChip.component';\r\nimport Spell from '../../common/spellDisplay.component';\r\nimport VM, { dist, reflexSave } from '../../common/variableMark.component';\r\nimport { makeConstantVariable } from '../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const extradimensionalPit = {\r\n  percentileMin: 23,\r\n  percentileMax: 26,\r\n  title: 'Extradimensional Pit',\r\n  createVariables: cr => ({\r\n    duration: makeConstantVariable(cr + 1, '1 + 1 round/level'),\r\n    depth: makeConstantVariable(cr * 10, 'CR x 10ft.'),\r\n    casterLevel: makeConstantVariable(cr, 'CL = CR'),\r\n    save: makeConstantVariable(cr + 10, 'Reflex Save DC = CR + 10'),\r\n  }),\r\n};\r\n\r\nconst ExtradimensionalPitEvent = ({ event }) => {\r\n  const { cr, variables, percentileRoll, startRound, finalRound } = event;\r\n  const { result: crVal } = cr;\r\n  const { depth, duration, casterLevel, save } = variables;\r\n  return (\r\n    <Fragment>\r\n      <Box>\r\n        <CustomChip label=\"d%\" value={percentileRoll} />\r\n        <CustomChip label=\"CR\" value={crVal} />\r\n        <CustomChip label=\"Start\" value={startRound} />\r\n        <DurationEndChip value={finalRound} />\r\n        <CustomChip label=\"Reflex Save\" value={save?.result} />\r\n      </Box>\r\n      <Typography>\r\n        A circular pit opens under the feet of a random target. The pit creates\r\n        an extradimensional space in the gorund, not an actual pit. The pit is{' '}\r\n        <VM v={depth} u={dist} />, but otherwise functions as the{' '}\r\n        <Spell\r\n          name=\"Create Pit\"\r\n          casterLevel={casterLevel}\r\n          save={save}\r\n          saveType={reflexSave}\r\n          duration={duration}\r\n        />\r\n      </Typography>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ExtradimensionalPitEvent;\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport CustomChip from '../../common/customChip.component';\r\nimport DurationEndChip from '../../common/durationChip.component';\r\nimport Spell from '../../common/spellDisplay.component';\r\nimport VM, { willSave } from '../../common/variableMark.component';\r\nimport {\r\n  makeConstantVariable,\r\n  makeVariable,\r\n} from '../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const harm = {\r\n  percentileMin: 33,\r\n  percentileMax: 38,\r\n  title: 'Harm',\r\n  createVariables: cr => ({\r\n    duration: makeConstantVariable(0),\r\n    casterLevel: makeConstantVariable(cr, 'CL = CR'),\r\n    creaturesAffected: makeVariable(cr, 1, 0, '# Creatures <= CR in total'),\r\n    save: makeConstantVariable(cr + 10, 'Will Save DC = CR + 10'),\r\n  }),\r\n};\r\n\r\nconst HarmEvent = ({ event }) => {\r\n  const { cr, variables, percentileRoll, startRound } = event;\r\n  const { result: crVal } = cr;\r\n  const { casterLevel, creaturesAffected, save } = variables;\r\n  return (\r\n    <Fragment>\r\n      <Box>\r\n        <CustomChip label=\"d%\" value={percentileRoll} />\r\n        <CustomChip label=\"CR\" value={crVal} />\r\n        <CustomChip label=\"Start\" value={startRound} />\r\n        <DurationEndChip />\r\n        <CustomChip label=\"Will Save\" value={save?.result} />\r\n      </Box>\r\n      <Typography>\r\n        Negative energy affects <VM v={creaturesAffected} /> nearby creatures.\r\n        These creatures are affected by a{' '}\r\n        <Spell\r\n          name=\"Harm\"\r\n          casterLevel={casterLevel}\r\n          save={save}\r\n          saveType={willSave}\r\n        />\r\n      </Typography>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default HarmEvent;\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport CustomChip from '../../common/customChip.component';\r\nimport DurationEndChip from '../../common/durationChip.component';\r\nimport Spell from '../../common/spellDisplay.component';\r\nimport VM, { willSave } from '../../common/variableMark.component';\r\nimport {\r\n  makeConstantVariable,\r\n  makeVariable,\r\n} from '../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const heal = {\r\n  percentileMin: 33,\r\n  percentileMax: 38,\r\n  title: 'Heal',\r\n  createVariables: cr => ({\r\n    duration: makeConstantVariable(0),\r\n    casterLevel: makeConstantVariable(cr, 'CL = CR'),\r\n    creaturesAffected: makeVariable(cr, 1, 0, '# Creatures <= CR in total'),\r\n    save: makeConstantVariable(cr + 10, 'Will Save DC = CR + 10'),\r\n  }),\r\n};\r\n\r\nconst HealEvent = ({ event }) => {\r\n  const { cr, variables, percentileRoll, startRound } = event;\r\n  const { result: crVal } = cr;\r\n  const { casterLevel, creaturesAffected, save } = variables;\r\n  return (\r\n    <Fragment>\r\n      <Box>\r\n        <CustomChip label=\"d%\" value={percentileRoll} />\r\n        <CustomChip label=\"CR\" value={crVal} />\r\n        <CustomChip label=\"Start\" value={startRound} />\r\n        <DurationEndChip />\r\n        <CustomChip label=\"Will Save\" value={save?.result} />\r\n      </Box>\r\n      <Typography>\r\n        Positive energy affects <VM v={creaturesAffected} /> nearby creatures.\r\n        These creatures are affected by a{' '}\r\n        <Spell\r\n          name=\"Heal\"\r\n          casterLevel={casterLevel}\r\n          save={save}\r\n          saveType={willSave}\r\n        />\r\n      </Typography>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default HealEvent;\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport Condition from '../../common/conditionDisplay.component';\r\nimport CustomChip from '../../common/customChip.component';\r\nimport DurationEndChip from '../../common/durationChip.component';\r\nimport Spell from '../../common/spellDisplay.component';\r\nimport VM, { time, willSave } from '../../common/variableMark.component';\r\nimport {\r\n  makeConstantVariable,\r\n  makeVariable,\r\n} from '../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const magicJar = {\r\n  percentileMin: 95,\r\n  percentileMax: 98,\r\n  title: 'Magic Jar',\r\n  createVariables: cr => ({\r\n    duration: makeConstantVariable(0),\r\n    save: makeConstantVariable(cr + 10, 'Will Save DC = CR + 10'),\r\n    stunDuration: makeVariable(4), // 1d4 rounds stun duration\r\n    bodySwapDuration: makeConstantVariable(cr, 'CR rounds'),\r\n    casterLevel: makeConstantVariable(cr, 'CL = CR'),\r\n  }),\r\n};\r\n\r\nconst MagicJarEvent = ({ event }) => {\r\n  const { cr, variables, percentileRoll, startRound } = event;\r\n  const { result: crVal } = cr;\r\n  const { save, stunDuration, bodySwapDuration, casterLevel } = variables;\r\n  return (\r\n    <Fragment>\r\n      <Box>\r\n        <CustomChip label=\"d%\" value={percentileRoll} />\r\n        <CustomChip label=\"CR\" value={crVal} />\r\n        <CustomChip label=\"Start\" value={startRound} />\r\n        <DurationEndChip />\r\n      </Box>\r\n      <Typography>\r\n        A <Spell name=\"Magic Jar\" casterLevel={casterLevel} /> like effect\r\n        affects two creatures. A <VM v={save} u={willSave} /> negates the\r\n        effect. If one creature fails this save but the other succeeds, the\r\n        creature that fails the save is merely <Condition name=\"Stunned\" /> for{' '}\r\n        <VM v={stunDuration} u={time} />. If both creatures fail the save, their{' '}\r\n        <mark>minds are switched</mark> into each other&apos;s bodies for{' '}\r\n        <VM v={bodySwapDuration} u={time} />.\r\n      </Typography>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default MagicJarEvent;\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport Condition from '../../common/conditionDisplay.component';\r\nimport CustomChip from '../../common/customChip.component';\r\nimport DurationEndChip from '../../common/durationChip.component';\r\nimport VM, { willSave } from '../../common/variableMark.component';\r\nimport {\r\n  makeConstantVariable,\r\n  makeVariable,\r\n} from '../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const massDelusion = {\r\n  percentileMin: 63,\r\n  percentileMax: 68,\r\n  title: 'Mass Delusion',\r\n  createVariables: cr => ({\r\n    duration: makeConstantVariable(0),\r\n    creaturesAffected: makeVariable(cr, 1, 0, '# Creatures <= CR in total'),\r\n    save: makeConstantVariable(cr + 10, 'Will Save DC = CR + 10'),\r\n  }),\r\n};\r\n\r\nconst MassDelusionEvent = ({ event }) => {\r\n  const { cr, variables, percentileRoll, startRound } = event;\r\n  const { result: crVal } = cr;\r\n  const { creaturesAffected, save } = variables;\r\n  return (\r\n    <Fragment>\r\n      <Box>\r\n        <CustomChip label=\"d%\" value={percentileRoll} />\r\n        <CustomChip label=\"CR\" value={crVal} />\r\n        <CustomChip label=\"Start\" value={startRound} />\r\n        <DurationEndChip />\r\n      </Box>\r\n      <Typography>\r\n        <VM v={creaturesAffected} /> creatures become{' '}\r\n        <Condition name=\"Confused\" /> unless they succeed at a{' '}\r\n        <VM v={save} u={willSave} />. For each affected creature, this effect{' '}\r\n        <mark>persists until</mark> that creature&apos;s confusion effect\r\n        results in <mark>&quot;act normally&quot;</mark>, at which point the\r\n        effect ends for that creature. This is a mind-affecting effect.\r\n        mind-affecting effect.\r\n      </Typography>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default MassDelusionEvent;\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport CustomChip from '../../common/customChip.component';\r\nimport DurationEndChip from '../../common/durationChip.component';\r\nimport VM, { dist, time } from '../../common/variableMark.component';\r\nimport { makeConstantVariable } from '../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const rainOfSmallObjects = {\r\n  percentileMin: 27,\r\n  percentileMax: 32,\r\n  title: 'Rain of Small Objects',\r\n  createVariables: cr => ({\r\n    radius: makeConstantVariable(cr * 5, 'CR x 5ft.'),\r\n    duration: makeConstantVariable(cr, 'CR rounds'),\r\n  }),\r\n};\r\n\r\nconst RainOfSmallObjectsEvent = ({ event }) => {\r\n  const { cr, variables, percentileRoll, startRound, finalRound } = event;\r\n  const { result: crVal } = cr;\r\n  const { radius, duration } = variables;\r\n  return (\r\n    <Fragment>\r\n      <Box>\r\n        <CustomChip label=\"d%\" value={percentileRoll} />\r\n        <CustomChip label=\"CR\" value={crVal} />\r\n        <CustomChip label=\"Start\" value={startRound} />\r\n        <DurationEndChip value={finalRound} />\r\n      </Box>\r\n      <Typography>\r\n        A rain of small objects (anything from flowers to rotten fruit) pelts an\r\n        area with a <VM v={radius} u={dist} /> radius for{' '}\r\n        <VM v={duration} u={time} />. This strange hail is not harmful, but\r\n        duing this time all creatures in the area{' '}\r\n        <mark>gain concealment (20% miss chance)</mark> and must make{' '}\r\n        <mark>concentration checks (DC 15 + SL)</mark> to cast spells.\r\n      </Typography>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default RainOfSmallObjectsEvent;\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport CustomChip from '../../common/customChip.component';\r\nimport DurationEndChip from '../../common/durationChip.component';\r\nimport Spell from '../../common/spellDisplay.component';\r\nimport VM, {\r\n  dist,\r\n  willSave,\r\n  direction,\r\n} from '../../common/variableMark.component';\r\nimport {\r\n  makeConstantVariable,\r\n  makeVariable,\r\n} from '../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const teleportationStorm = {\r\n  percentileMin: 89,\r\n  percentileMax: 94,\r\n  title: 'Teleportation Storm',\r\n  createVariables: cr => ({\r\n    duration: makeConstantVariable(0),\r\n    save: makeConstantVariable(cr + 10, 'DC = CR + 10'),\r\n    distance: makeConstantVariable(cr * 5, 'CR x 5ft.'),\r\n    casterLevel: makeConstantVariable(cr, 'CL = CR'),\r\n    cardinalDirection: makeVariable(8),\r\n  }),\r\n};\r\n\r\nconst TeleportationStormEvent = ({ event }) => {\r\n  const { cr, variables, percentileRoll, startRound } = event;\r\n  const { result: crVal } = cr;\r\n  const { distance, save, casterLevel, cardinalDirection } = variables;\r\n  return (\r\n    <Fragment>\r\n      <Box>\r\n        <CustomChip label=\"d%\" value={percentileRoll} />\r\n        <CustomChip label=\"CR\" value={crVal} />\r\n        <CustomChip label=\"Start\" value={startRound} />\r\n        <DurationEndChip />\r\n      </Box>\r\n      <Typography>\r\n        A teleportation storm occurs. All creatures in the area must make a{' '}\r\n        <VM v={save} u={willSave} />. Those who fail are teleported, as if via\r\n        the <Spell name=\"Dimension Door\" casterLevel={casterLevel} />, so that\r\n        they randomly{' '}\r\n        <mark>swap places with another creature that failed their save</mark>.\r\n        If this places a creature in an area too small to accept its space, it\r\n        instead appears in the closest adjacent space that can contain it. If\r\n        only one creature is affected, it teleports <VM v={distance} u={dist} />{' '}\r\n        to the <VM v={cardinalDirection} u={direction} />.\r\n      </Typography>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default TeleportationStormEvent;\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport CustomChip from '../../common/customChip.component';\r\nimport DurationEndChip from '../../common/durationChip.component';\r\nimport VM, { dist } from '../../common/variableMark.component';\r\nimport { makeConstantVariable } from '../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const trippingTelekinesis = {\r\n  percentileMin: 75,\r\n  percentileMax: 78,\r\n  title: 'Tripping Telekinesis',\r\n  createVariables: cr => ({\r\n    duration: makeConstantVariable(0),\r\n    radius: makeConstantVariable(cr * 10, 'CR x 10ft.'),\r\n    cmb: makeConstantVariable(cr + 10, 'CMB = CR + 10'),\r\n  }),\r\n};\r\n\r\nconst TrippingTelekinesisEvent = ({ event }) => {\r\n  const { cr, variables, percentileRoll, startRound } = event;\r\n  const { result: crVal } = cr;\r\n  const { radius, cmb } = variables;\r\n  return (\r\n    <Fragment>\r\n      <Box>\r\n        <CustomChip label=\"d%\" value={percentileRoll} />\r\n        <CustomChip label=\"CR\" value={crVal} />\r\n        <CustomChip label=\"Start\" value={startRound} />\r\n        <DurationEndChip />\r\n      </Box>\r\n      <Typography>\r\n        Strange telekinetic forces rip through the area, attempting to trip all\r\n        creatures in a <VM v={radius} u={dist} /> radius. The event makes a{' '}\r\n        <mark>trip combat maneuver</mark> check against all available targets,\r\n        using a CMB of +<VM v={cmb} />. Any creature tripped by the event has\r\n        its equipment reorganized and tangled by the mischievous telekinesis.\r\n        Until a creature takes a <mark>minute to reogranise</mark> its\r\n        belongings, <mark>retrieving a stowed item is a full-round action</mark>\r\n      </Typography>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default TrippingTelekinesisEvent;\r\n","import { green, indigo, orange, purple, red } from '@material-ui/core/colors';\r\n\r\nexport const manualTriggerHeader = red[500];\r\nexport const primalStormHeader = green[500];\r\nexport const primalEventsHeader = indigo[500];\r\nexport const userSettingsHeader = orange[500];\r\nexport const eventActive = primalEventsHeader;\r\nexport const eventImminant = purple[500];\r\n","import {\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  IconButton,\r\n  makeStyles,\r\n} from '@material-ui/core';\r\nimport React from 'react';\r\nimport { eventImminant, eventActive } from '../common/colours';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\r\nimport { useSelector } from 'react-redux';\r\nimport { currentRoundSelector } from '../state/rounds/roundsState';\r\nimport { getEventCardContent } from './events';\r\n\r\nconst useStyles = makeStyles({\r\n  card: {\r\n    width: '100%',\r\n  },\r\n  cardHeader: {\r\n    backgroundColor: ({ titleColour, expiresThisTurn }) =>\r\n      titleColour ?? (expiresThisTurn ? eventImminant : eventActive),\r\n    color: 'white',\r\n    alignItems: 'flex-start',\r\n    paddingTop: 10,\r\n    paddingBottom: 3,\r\n  },\r\n  expandAction: {\r\n    color: 'white',\r\n  },\r\n  cardContent: {\r\n    paddingTop: 5,\r\n    '&:last-child': {\r\n      paddingBottom: 5,\r\n    },\r\n  },\r\n});\r\n\r\nconst EventCard = ({ event, titleColour, onExpandToggleClicked }) => {\r\n  const { title, expanded, finalRound } = event;\r\n  const currentRound = useSelector(currentRoundSelector);\r\n  const expiresThisTurn = finalRound === currentRound;\r\n  const classes = useStyles({ titleColour, expiresThisTurn });\r\n\r\n  return (\r\n    <Card className={classes.card} variant=\"outlined\">\r\n      <CardHeader\r\n        className={classes.cardHeader}\r\n        title={title}\r\n        titleTypographyProps={{ variant: 'h6' }}\r\n        action={\r\n          <IconButton\r\n            className={classes.expandAction}\r\n            onClick={onExpandToggleClicked}\r\n          >\r\n            {expanded ? <ExpandLessIcon /> : <ExpandMoreIcon />}\r\n          </IconButton>\r\n        }\r\n      />\r\n      {expanded && (\r\n        <CardContent className={classes.cardContent}>\r\n          {getEventCardContent(event)}\r\n        </CardContent>\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nEventCard.defaultProps = {\r\n  titleColour: undefined,\r\n};\r\n\r\nexport default EventCard;\r\n","import { Box, Divider, makeStyles, Typography } from '@material-ui/core';\r\nimport { cyan } from '@material-ui/core/colors';\r\nimport React, { Fragment, useState } from 'react';\r\nimport CustomChip from '../../common/customChip.component';\r\nimport DurationEndChip from '../../common/durationChip.component';\r\nimport {\r\n  makeConstantVariable,\r\n  makeLimitedVariable,\r\n} from '../../state/activePrimalEvents/activePrimalEventsState';\r\nimport { calculateFinalRound } from '../../state/manualTrigger/manualTriggerState';\r\nimport EventCard from '../eventCard.component';\r\nimport { getEvent } from '../events';\r\n\r\nconst useStyles = makeStyles({\r\n  divider: {\r\n    width: '100%',\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n  },\r\n});\r\n\r\nconst prefixVariableKeys = (variables, prefix) => {\r\n  let newVariables = {};\r\n\r\n  Object.entries(variables).forEach(([key, value]) => {\r\n    newVariables[`${prefix}${key}`] = value;\r\n  });\r\n\r\n  return newVariables;\r\n};\r\n\r\nconst removeVariableKeyPrefix = (variables, prefix) => {\r\n  let newVariables = {\r\n    ...variables,\r\n  };\r\n\r\n  Object.entries(variables)\r\n    .filter(([key]) => key.startsWith(prefix))\r\n    .forEach(([key, value]) => {\r\n      newVariables[key.replace(prefix, '')] = value;\r\n    });\r\n\r\n  return newVariables;\r\n};\r\n\r\nconst longestDuration = (firstVars, secondVars) => {\r\n  const firstDuration = firstVars.oneduration;\r\n  const secondDuration = secondVars.twoduration;\r\n\r\n  if (!firstDuration && !secondDuration) {\r\n    return makeConstantVariable(0);\r\n  }\r\n\r\n  if (!secondDuration) {\r\n    return firstDuration;\r\n  }\r\n\r\n  if (!firstDuration) {\r\n    return secondDuration;\r\n  }\r\n\r\n  return firstDuration.result > secondDuration.result\r\n    ? firstDuration\r\n    : secondDuration;\r\n};\r\n\r\nexport const twoSimultaneousEvents = {\r\n  percentileMin: 99,\r\n  percentileMax: 100,\r\n  title: 'Two Simultaneous Events',\r\n  createVariables: cr => {\r\n    // Never allow either simultaneous event to be another two simultaneous events\r\n    const percentileOne = makeLimitedVariable(100, 98);\r\n    const percentileTwo = makeLimitedVariable(100, 98);\r\n\r\n    const eventOne = getEvent(percentileOne.result);\r\n    const eventOneVariables = prefixVariableKeys(\r\n      eventOne.createVariables(cr),\r\n      'one'\r\n    );\r\n\r\n    const eventTwo = getEvent(percentileTwo.result);\r\n    const eventTwoVariables = prefixVariableKeys(\r\n      eventTwo.createVariables(cr),\r\n      'two'\r\n    );\r\n\r\n    const duration = longestDuration(eventOneVariables, eventTwoVariables);\r\n\r\n    return {\r\n      duration: duration,\r\n      percentileOne,\r\n      percentileTwo,\r\n      ...eventOneVariables,\r\n      ...eventTwoVariables,\r\n    };\r\n  },\r\n};\r\n\r\nconst deconstructEvent = (\r\n  event,\r\n  isOpen,\r\n  percentile,\r\n  variables,\r\n  variablePrefix\r\n) => {\r\n  const title = getEvent(percentile).title;\r\n  const deconstructedEventVariables = removeVariableKeyPrefix(\r\n    variables,\r\n    variablePrefix\r\n  );\r\n  const finalRound = calculateFinalRound(\r\n    deconstructedEventVariables.duration,\r\n    event.startRound\r\n  );\r\n\r\n  return {\r\n    ...event,\r\n    title,\r\n    percentileRoll: percentile,\r\n    variables: deconstructedEventVariables,\r\n    expanded: isOpen,\r\n    finalRound,\r\n  };\r\n};\r\n\r\nconst TwoSimultaneousEventsEvent = ({ event }) => {\r\n  const classes = useStyles();\r\n  const { cr, variables, percentileRoll, startRound, finalRound } = event;\r\n  const { result: crVal } = cr;\r\n  const { percentileOne, percentileTwo, duration } = variables;\r\n  const isInstantaneous = duration.result === 0;\r\n\r\n  const [eventOneOpen, setEventOneOpen] = useState(true);\r\n  const [eventTwoOpen, setEventTwoOpen] = useState(true);\r\n  const eventOne = deconstructEvent(\r\n    event,\r\n    eventOneOpen,\r\n    percentileOne.result,\r\n    variables,\r\n    'one'\r\n  );\r\n  const eventTwo = deconstructEvent(\r\n    event,\r\n    eventTwoOpen,\r\n    percentileTwo.result,\r\n    variables,\r\n    'two'\r\n  );\r\n\r\n  return (\r\n    <Fragment>\r\n      <Box>\r\n        <CustomChip label=\"d%\" value={percentileRoll} />\r\n        <CustomChip label=\"CR\" value={crVal} />\r\n        <CustomChip label=\"Start\" value={startRound} />\r\n        <DurationEndChip value={isInstantaneous ? undefined : finalRound} />\r\n      </Box>\r\n      <Box>\r\n        <Typography>The following two events occur simultaneously</Typography>\r\n        <Divider className={classes.divider} />\r\n        <EventCard\r\n          event={eventOne}\r\n          titleColour={cyan['A700']}\r\n          onExpandToggleClicked={() => setEventOneOpen(!eventOneOpen)}\r\n        />\r\n        <Divider className={classes.divider} />\r\n        <EventCard\r\n          event={eventTwo}\r\n          titleColour={cyan['A700']}\r\n          onExpandToggleClicked={() => setEventTwoOpen(!eventTwoOpen)}\r\n        />\r\n      </Box>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default TwoSimultaneousEventsEvent;\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport CustomChip from '../../common/customChip.component';\r\nimport DurationEndChip from '../../common/durationChip.component';\r\nimport Spell from '../../common/spellDisplay.component';\r\nimport VM, { dist } from '../../common/variableMark.component';\r\nimport { makeConstantVariable } from '../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const utterDarkness = {\r\n  percentileMin: 45,\r\n  percentileMax: 48,\r\n  title: 'Utter Darkness',\r\n  createVariables: cr => ({\r\n    duration: makeConstantVariable(cr * 10 * 10, '10 min./level'),\r\n    radius: makeConstantVariable(cr * 10, 'CR x 10ft.'),\r\n    casterLevel: makeConstantVariable(cr, 'CL = CR'),\r\n  }),\r\n};\r\n\r\nconst UtterDarknessEvent = ({ event }) => {\r\n  const { cr, variables, percentileRoll, startRound, finalRound } = event;\r\n  const { result: crVal } = cr;\r\n  const { casterLevel, radius } = variables;\r\n  return (\r\n    <Fragment>\r\n      <Box>\r\n        <CustomChip label=\"d%\" value={percentileRoll} />\r\n        <CustomChip label=\"CR\" value={crVal} />\r\n        <CustomChip label=\"Start\" value={startRound} />\r\n        <DurationEndChip value={finalRound} />\r\n      </Box>\r\n      <Typography>\r\n        A <VM v={radius} u={dist} /> radius area becomes utterly dark, as if\r\n        from a <Spell name=\"Deeper Darkness\" casterLevel={casterLevel} />\r\n      </Typography>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default UtterDarknessEvent;\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport CustomChip from '../../common/customChip.component';\r\nimport DurationEndChip from '../../common/durationChip.component';\r\nimport VM, { dist, time } from '../../common/variableMark.component';\r\nimport { makeConstantVariable } from '../../state/activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const zoneOfUnluck = {\r\n  percentileMin: 15,\r\n  percentileMax: 18,\r\n  title: 'Zone of Unluck',\r\n  createVariables: cr => ({\r\n    radius: makeConstantVariable(cr * 5, 'CR x 5ft.'),\r\n    duration: makeConstantVariable(cr * 10 * 60, 'CR hours'),\r\n  }),\r\n};\r\n\r\nconst ZoneOfUnluckEvent = ({ event }) => {\r\n  const { cr, variables, percentileRoll, startRound, finalRound } = event;\r\n  const { result: crVal } = cr;\r\n  const { radius, duration } = variables;\r\n  return (\r\n    <Fragment>\r\n      <Box>\r\n        <CustomChip label=\"d%\" value={percentileRoll} />\r\n        <CustomChip label=\"CR\" value={crVal} />\r\n        <CustomChip label=\"Start\" value={startRound} />\r\n        <DurationEndChip value={finalRound} />\r\n      </Box>\r\n      <Typography>\r\n        A zone of unluck and a strange pale violet radience equivalent to\r\n        candlelight fills a <VM v={radius} u={dist} /> radius for{' '}\r\n        <VM v={duration} u={time} />. All <mark>d20 rolls</mark> made in the\r\n        area must be <mark>rolled twice, taking the lower</mark> of the two\r\n        rolls.\r\n      </Typography>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ZoneOfUnluckEvent;\r\n","import React from 'react';\r\nimport AuroraBorealisEvent, {\r\n  auroraBorealis,\r\n} from './eventComponents/auroraBorealisEvent.component';\r\nimport CatchyMusicEvent, {\r\n  catchyMusic,\r\n} from './eventComponents/catchyMusicEvent.component';\r\nimport CentipedesEvent, {\r\n  centipedes,\r\n} from './eventComponents/centipedesEvent.component';\r\nimport ColourDrainEvent, {\r\n  colourDrain,\r\n} from './eventComponents/colourDrainEvent.component';\r\nimport ElementalUprisingEvent, {\r\n  elementalUprising,\r\n} from './eventComponents/elementalUprisingEvent.component';\r\nimport EnantiomaticSelfEvent, {\r\n  enantiomaticSelf,\r\n} from './eventComponents/enantiomaticSelfEvent.component';\r\nimport EnergyStormEvent, {\r\n  energyStorm,\r\n} from './eventComponents/energyStormEvent.component';\r\nimport ExtradimensionalPitEvent, {\r\n  extradimensionalPit,\r\n} from './eventComponents/extradimensionalPit.component';\r\nimport HarmEvent, { harm } from './eventComponents/harmEvent.component';\r\nimport HealEvent, { heal } from './eventComponents/healEvent.component';\r\nimport MagicJarEvent, {\r\n  magicJar,\r\n} from './eventComponents/magicJarEvent.component';\r\nimport MassDelusionEvent, {\r\n  massDelusion,\r\n} from './eventComponents/massDelusionEvent.component';\r\nimport RainOfSmallObjectsEvent, {\r\n  rainOfSmallObjects,\r\n} from './eventComponents/rainOfSmallObjectsEvent.component';\r\nimport TeleportationStormEvent, {\r\n  teleportationStorm,\r\n} from './eventComponents/teleportationStormEvent.component';\r\nimport TrippingTelekinesisEvent, {\r\n  trippingTelekinesis,\r\n} from './eventComponents/trippingTelekinesisEvent.component';\r\nimport TwoSimultaneousEventsEvent, {\r\n  twoSimultaneousEvents,\r\n} from './eventComponents/twoSimultaneousEventsEvent.component';\r\nimport UtterDarknessEvent, {\r\n  utterDarkness,\r\n} from './eventComponents/utterDarknessEvent.component';\r\nimport WonderousMagicEvent, {\r\n  wonderousMagic,\r\n} from './eventComponents/wonderousMagicEvent.component';\r\nimport ZoneOfUnluckEvent, {\r\n  zoneOfUnluck,\r\n} from './eventComponents/zoneOfUnluckEvent.component';\r\n\r\nexport const getEventCardContent = event => {\r\n  if (event.title === colourDrain.title) {\r\n    return <ColourDrainEvent event={event} />;\r\n  }\r\n\r\n  if (event.title === centipedes.title) {\r\n    return <CentipedesEvent event={event} />;\r\n  }\r\n\r\n  if (event.title === catchyMusic.title) {\r\n    return <CatchyMusicEvent event={event} />;\r\n  }\r\n\r\n  if (event.title === zoneOfUnluck.title) {\r\n    return <ZoneOfUnluckEvent event={event} />;\r\n  }\r\n\r\n  if (event.title === enantiomaticSelf.title) {\r\n    return <EnantiomaticSelfEvent event={event} />;\r\n  }\r\n\r\n  if (event.title === extradimensionalPit.title) {\r\n    return <ExtradimensionalPitEvent event={event} />;\r\n  }\r\n\r\n  if (event.title === rainOfSmallObjects.title) {\r\n    return <RainOfSmallObjectsEvent event={event} />;\r\n  }\r\n\r\n  if (event.title === heal.title) {\r\n    return <HealEvent event={event} />;\r\n  }\r\n\r\n  if (event.title === harm.title) {\r\n    return <HarmEvent event={event} />;\r\n  }\r\n\r\n  if (event.title === utterDarkness.title) {\r\n    return <UtterDarknessEvent event={event} />;\r\n  }\r\n\r\n  if (event.title === elementalUprising.title) {\r\n    return <ElementalUprisingEvent event={event} />;\r\n  }\r\n\r\n  if (event.title === auroraBorealis.title) {\r\n    return <AuroraBorealisEvent event={event} />;\r\n  }\r\n\r\n  if (event.title === massDelusion.title) {\r\n    return <MassDelusionEvent event={event} />;\r\n  }\r\n\r\n  if (event.title === energyStorm.title) {\r\n    return <EnergyStormEvent event={event} />;\r\n  }\r\n\r\n  if (event.title === trippingTelekinesis.title) {\r\n    return <TrippingTelekinesisEvent event={event} />;\r\n  }\r\n\r\n  if (event.title === wonderousMagic.title) {\r\n    return <WonderousMagicEvent event={event} />;\r\n  }\r\n\r\n  if (event.title === teleportationStorm.title) {\r\n    return <TeleportationStormEvent event={event} />;\r\n  }\r\n\r\n  if (event.title === magicJar.title) {\r\n    return <MagicJarEvent event={event} />;\r\n  }\r\n\r\n  if (event.title === twoSimultaneousEvents.title) {\r\n    return <TwoSimultaneousEventsEvent event={event} />;\r\n  }\r\n\r\n  return <div>UNKNOWN EVENT {event.title}</div>;\r\n};\r\n\r\nexport const events = [\r\n  colourDrain,\r\n  centipedes,\r\n  catchyMusic,\r\n  zoneOfUnluck,\r\n  enantiomaticSelf,\r\n  extradimensionalPit,\r\n  rainOfSmallObjects,\r\n  heal,\r\n  harm,\r\n  utterDarkness,\r\n  elementalUprising,\r\n  auroraBorealis,\r\n  massDelusion,\r\n  energyStorm,\r\n  trippingTelekinesis,\r\n  wonderousMagic,\r\n  teleportationStorm,\r\n  magicJar,\r\n  twoSimultaneousEvents,\r\n];\r\n\r\nexport const getEvent = percentileRoll => {\r\n  const eventsInRange = events.filter(\r\n    e => percentileRoll >= e.percentileMin && percentileRoll <= e.percentileMax\r\n  );\r\n\r\n  if (eventsInRange.length === 0) {\r\n    return events[0];\r\n  }\r\n\r\n  return eventsInRange[0];\r\n};\r\n\r\nexport const getEventByTitle = title => {\r\n  const eventsWithTitle = events.filter(e => e.title === title);\r\n\r\n  if (eventsWithTitle.length === 0) {\r\n    return events[0];\r\n  }\r\n\r\n  return eventsWithTitle[0];\r\n};\r\n","import {\r\n  collapseAll,\r\n  expandAll,\r\n  toggleSingleExpanded,\r\n} from '../activePrimalEvents/activePrimalEventsState';\r\n\r\nexport const eventExpansionInitialState = {\r\n  allExpanded: true,\r\n};\r\n\r\nexport const allExpandedSelector = state =>\r\n  state.primalMagic.eventExpansionState.allExpanded;\r\n\r\nconst SetAllExpandedStateType =\r\n  'primalMagic:activePrimalEvents:setAllExpandedState';\r\n\r\nexport const setAllExpandedState = allExpanded => ({\r\n  type: SetAllExpandedStateType,\r\n  payload: allExpanded,\r\n});\r\n\r\nconst handleSetAllExpanded = (state, payload) => {\r\n  return {\r\n    ...state,\r\n    eventExpansionState: {\r\n      ...state.eventExpansionState,\r\n      allExpanded: payload,\r\n    },\r\n  };\r\n};\r\n\r\nexport const eventExpansionReducers = {\r\n  [SetAllExpandedStateType]: handleSetAllExpanded,\r\n};\r\n\r\n// Thunk that handles all state when toggling all expanded or not\r\n// If tristate 'allExpanded' is undefined (i.e. some expanded some not) then it will expand all\r\nexport const toggleAllExpandedThunk = () => (dispatch, getState) => {\r\n  if (!allExpandedSelector(getState())) {\r\n    dispatch(setAllExpandedState(true));\r\n    dispatch(expandAll());\r\n  } else {\r\n    dispatch(setAllExpandedState(false));\r\n    dispatch(collapseAll());\r\n  }\r\n};\r\n\r\n// Thunk that handles all state when toggling a single event\r\n// Sets tristate 'allExpanded' to undefined (i.e. some are expanded, some not)\r\n// May need to reconsider this last part because what if you toggle one so they're all expanded/collapsed...\r\nexport const toggleSingleExpandedThunk = id => dispatch => {\r\n  dispatch(toggleSingleExpanded(id));\r\n  dispatch(setAllExpandedState(undefined));\r\n};\r\n","export const userSettingsInitialState = {\r\n  eventsAlwaysTrigger: false,\r\n  alwaysSelectSameEvent: false,\r\n  eventAlwaysSelected: 'Colour Drain',\r\n  alwaysSelectSameRodResult: false,\r\n  rodOfWonderAlwaysSelected: 'Slow',\r\n  resetOnlyResetsRounds: false,\r\n};\r\n\r\nexport const userSettingsStateSelector = state =>\r\n  state.primalMagic.userSettingsState;\r\nexport const eventsAlwaysTriggerSelector = state =>\r\n  userSettingsStateSelector(state).eventsAlwaysTrigger;\r\nexport const alwaysSelectSameEventSelector = state =>\r\n  userSettingsStateSelector(state).alwaysSelectSameEvent;\r\nexport const eventAlwaysSelectedSelector = state =>\r\n  userSettingsStateSelector(state).eventAlwaysSelected;\r\nexport const alwaysSelectSameRodResultSelector = state =>\r\n  userSettingsStateSelector(state).alwaysSelectSameRodResult;\r\nexport const rodOfWonderAlwaysSelectedSelector = state =>\r\n  userSettingsStateSelector(state).rodOfWonderAlwaysSelected;\r\nexport const resetOnlyResetsRoundsSelector = state =>\r\n  userSettingsStateSelector(state).resetOnlyResetsRounds;\r\n\r\nconst SetEventsAlwaysTriggerType =\r\n  'primalMagic:userSettingsState:setEventsAlwaysTrigger';\r\nconst SetAlwaysSelectSameEventType =\r\n  'primalMagic:userSettingsState:setAlwaysSelectSameEvent';\r\nconst SetEventAlwaysSelectedType =\r\n  'primalMagic:userSettingsState:setEventAlwaysSelected';\r\nconst SetRodResultAlwaysSelectedType =\r\n  'primalMagic:userSettingsState:setRodResultAlwaysSelected';\r\nconst SetRodOfWonderAlwaysSelectedType =\r\n  'primalMagic:userSettingsState:setRodOfWonderAlwaysSelected';\r\nconst SetResetOnlyResetsRoundsType =\r\n  'primalMagic:userSettingsState:setResetOnlyResetsRounds';\r\n\r\nexport const setEventsAlwaysTrigger = shouldAlwaysTrigger => ({\r\n  type: SetEventsAlwaysTriggerType,\r\n  payload: shouldAlwaysTrigger,\r\n});\r\n\r\nexport const setAlwaysSelectSameEvent = alwaysSelectSame => ({\r\n  type: SetAlwaysSelectSameEventType,\r\n  payload: alwaysSelectSame,\r\n});\r\n\r\nexport const setEventAlwaysSelected = eventAlwaysSelected => ({\r\n  type: SetEventAlwaysSelectedType,\r\n  payload: eventAlwaysSelected,\r\n});\r\n\r\nexport const setAlwaysSelectSameRodResult = alwaysSelectSame => ({\r\n  type: SetRodResultAlwaysSelectedType,\r\n  payload: alwaysSelectSame,\r\n});\r\n\r\nexport const setRodOfWonderAlwaysSelected = rodOfWonderAlwaysSelected => ({\r\n  type: SetRodOfWonderAlwaysSelectedType,\r\n  payload: rodOfWonderAlwaysSelected,\r\n});\r\n\r\nexport const setResetOnlyResetsRounds = onlyResetsRounds => ({\r\n  type: SetResetOnlyResetsRoundsType,\r\n  payload: onlyResetsRounds,\r\n});\r\n\r\nconst copyState = state => ({\r\n  ...state,\r\n  userSettingsState: {\r\n    ...state.userSettingsState,\r\n  },\r\n});\r\n\r\nconst handleSetEventsAlwaysTrigger = (state, payload) => {\r\n  const newState = copyState(state);\r\n  newState.userSettingsState.eventsAlwaysTrigger = payload;\r\n  return newState;\r\n};\r\n\r\nconst handleSetAlwaysSelectSameEvent = (state, payload) => {\r\n  const newState = copyState(state);\r\n  newState.userSettingsState.alwaysSelectSameEvent = payload;\r\n  return newState;\r\n};\r\n\r\nconst handleSetEventAlwaysSelected = (state, payload) => {\r\n  const newState = copyState(state);\r\n  newState.userSettingsState.eventAlwaysSelected = payload;\r\n  return newState;\r\n};\r\n\r\nconst handleSetAlwaysSelectSameRodResult = (state, payload) => {\r\n  const newState = copyState(state);\r\n  newState.userSettingsState.alwaysSelectSameRodResult = payload;\r\n  return newState;\r\n};\r\n\r\nconst handleSetRodOfWonderAlwaysSelected = (state, payload) => {\r\n  const newState = copyState(state);\r\n  newState.userSettingsState.rodOfWonderAlwaysSelected = payload;\r\n  return newState;\r\n};\r\n\r\nconst handleSetResetOnlyResetsRounds = (state, payload) => {\r\n  const newState = copyState(state);\r\n  newState.userSettingsState.resetOnlyResetsRounds = payload;\r\n  return newState;\r\n};\r\n\r\nexport const userSettingsStateReducers = {\r\n  [SetEventsAlwaysTriggerType]: handleSetEventsAlwaysTrigger,\r\n  [SetAlwaysSelectSameEventType]: handleSetAlwaysSelectSameEvent,\r\n  [SetEventAlwaysSelectedType]: handleSetEventAlwaysSelected,\r\n  [SetRodResultAlwaysSelectedType]: handleSetAlwaysSelectSameRodResult,\r\n  [SetRodOfWonderAlwaysSelectedType]: handleSetRodOfWonderAlwaysSelected,\r\n  [SetResetOnlyResetsRoundsType]: handleSetResetOnlyResetsRounds,\r\n};\r\n","import { twoSimultaneousEvents } from '../../events/eventComponents/twoSimultaneousEventsEvent.component';\r\nimport { wonderousMagic } from '../../events/eventComponents/wonderousMagicEvent.component';\r\nimport { rollPercentile } from '../../random';\r\nimport {\r\n  addActivePrimalEvent,\r\n  reRollVariable,\r\n} from '../activePrimalEvents/activePrimalEventsState';\r\nimport { allExpandedSelector } from '../eventExpansionState/eventExpansionState';\r\nimport {\r\n  calculateFinalRound,\r\n  generateDialogEvent,\r\n  specifiedCrSelector,\r\n} from '../manualTrigger/manualTriggerState';\r\nimport { currentRoundSelector } from '../rounds/roundsState';\r\nimport {\r\n  alwaysSelectSameEventSelector,\r\n  alwaysSelectSameRodResultSelector,\r\n  eventAlwaysSelectedSelector,\r\n  rodOfWonderAlwaysSelectedSelector,\r\n} from '../userSettings/userSetingsState';\r\n\r\nexport const manualTriggerType = 'MANUAL';\r\nexport const stormTrigerType = 'STORM';\r\n\r\nexport const triggerDialogInitialState = {\r\n  open: false,\r\n  triggerType: undefined,\r\n  percentile: 0,\r\n  threshold: 50,\r\n  cr: undefined,\r\n  currentEvent: undefined,\r\n};\r\n\r\nexport const triggerDialogStateSelector = state =>\r\n  state.primalMagic.triggerDialogState;\r\nexport const triggerDialogCurrentEventSelector = state =>\r\n  triggerDialogStateSelector(state).currentEvent;\r\n\r\nconst SetTriggerDialogStateType =\r\n  'primalMagic:triggerDialogState:setTriggerDialogState';\r\nconst SetTriggerDialogPrimalEventType =\r\n  'primalMagic:triggerDialogState:setTriggerDialogPrimalEvent';\r\nconst ToggleTriggerDialogPrimalEventExpandedType =\r\n  'primalMagic:triggerDialogState:toggleTriggerDialogPrimalEventExpanded';\r\nconst CloseTriggerDialogType =\r\n  'primalMagic:triggerDialogState:closeTriggerDialog';\r\n\r\nexport const setTriggerDialogState = triggerDialogState => ({\r\n  type: SetTriggerDialogStateType,\r\n  payload: triggerDialogState,\r\n});\r\n\r\nexport const setTriggerDialogPrimalEvent = primalEvent => ({\r\n  type: SetTriggerDialogPrimalEventType,\r\n  payload: primalEvent,\r\n});\r\n\r\nexport const toggleTriggerDialogPrimalEventExpanded = () => ({\r\n  type: ToggleTriggerDialogPrimalEventExpandedType,\r\n});\r\n\r\nexport const closeTriggerDialog = () => ({\r\n  type: CloseTriggerDialogType,\r\n});\r\n\r\nconst handleSetTriggerDialogState = (state, payload) => ({\r\n  ...state,\r\n  triggerDialogState: {\r\n    ...payload,\r\n  },\r\n});\r\n\r\nconst handleSetTriggerDialogPrimalEvent = (state, payload) => ({\r\n  ...state,\r\n  triggerDialogState: {\r\n    ...state.triggerDialogState,\r\n    currentEvent: payload,\r\n  },\r\n});\r\n\r\nconst handleToggleTriggerDialogPrimalEventExpanded = state => ({\r\n  ...state,\r\n  triggerDialogState: {\r\n    ...state.triggerDialogState,\r\n    currentEvent: {\r\n      ...state.triggerDialogState.currentEvent,\r\n      expanded: !state.triggerDialogState.currentEvent.expanded,\r\n    },\r\n  },\r\n});\r\n\r\nconst handleCloseTriggerDialog = state => ({\r\n  ...state,\r\n  triggerDialogState: {\r\n    ...triggerDialogInitialState,\r\n  },\r\n});\r\n\r\nexport const triggerDialogStateReducers = {\r\n  [SetTriggerDialogStateType]: handleSetTriggerDialogState,\r\n  [SetTriggerDialogPrimalEventType]: handleSetTriggerDialogPrimalEvent,\r\n  [ToggleTriggerDialogPrimalEventExpandedType]: handleToggleTriggerDialogPrimalEventExpanded,\r\n  [CloseTriggerDialogType]: handleCloseTriggerDialog,\r\n};\r\n\r\n// Thunk that handles all state when pressing the confirm button in a trigger dialog\r\n// Adds the trigger dialog's current event to the active primal events then wipes the dialog to close it\r\nexport const confirmDialogPrimalEventThunk = () => (dispatch, getState) => {\r\n  const state = getState();\r\n  const currentEvent = triggerDialogCurrentEventSelector(state);\r\n  const allExpanded = allExpandedSelector(state);\r\n  const dispatchedEvent = {\r\n    ...currentEvent,\r\n    expanded: !!allExpanded,\r\n  };\r\n  dispatch(addActivePrimalEvent(dispatchedEvent));\r\n  dispatch(closeTriggerDialog());\r\n};\r\n\r\n// Thunk that handles all state when pressing the re-roll event button in a trigger dialog\r\n// Re-rolls the primal magic event based on the current dialog settings and updates the dialog state\r\nexport const rerollDialogPrimalEventThunk = () => (dispatch, getState) => {\r\n  const state = getState();\r\n  const currentDialogState = triggerDialogStateSelector(state);\r\n  const eventPercentile = rollPercentile();\r\n  const currentCr = specifiedCrSelector(state);\r\n  const currentRound = currentRoundSelector(state);\r\n  const alwaysShowSameEvent = alwaysSelectSameEventSelector(state);\r\n  const eventAlwaysSelected = alwaysShowSameEvent\r\n    ? eventAlwaysSelectedSelector(state)\r\n    : undefined;\r\n  const alwaysShowSameRodResult = alwaysSelectSameRodResultSelector(state);\r\n  const rodOfWonderResultAlwaysSelected =\r\n    eventAlwaysSelected === wonderousMagic.title && alwaysShowSameRodResult\r\n      ? rodOfWonderAlwaysSelectedSelector(state)\r\n      : undefined;\r\n  const event = generateDialogEvent(\r\n    eventPercentile,\r\n    currentCr,\r\n    currentRound,\r\n    eventAlwaysSelected,\r\n    rodOfWonderResultAlwaysSelected\r\n  );\r\n  event.expanded = currentDialogState.currentEvent.expanded;\r\n  const newDialogState = {\r\n    ...currentDialogState,\r\n    currentEvent: event,\r\n  };\r\n\r\n  dispatch(setTriggerDialogState(newDialogState));\r\n};\r\n\r\n// Thunk that handles all state when pressing the re-roll event variables button in a trigger dialog\r\n// Keeps the current primal magic event but re-rolls any variables\r\nexport const rerollDialogPrimalEventVariablesThunk = () => (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const state = getState();\r\n  const currentDialogState = triggerDialogStateSelector(state);\r\n  const currentEvent = currentDialogState.currentEvent;\r\n\r\n  let newVariables = {};\r\n\r\n  if (currentEvent.title === wonderousMagic.title) {\r\n    // Because wonderous magic has an inner table we need to handle it separately\r\n    // We must completely reroll the variables object, not just each variable\r\n    const alwaysShowSameRodResult = alwaysSelectSameRodResultSelector(state);\r\n    const rodOfWonderResultAlwaysSelected = alwaysShowSameRodResult\r\n      ? rodOfWonderAlwaysSelectedSelector(state)\r\n      : undefined;\r\n    newVariables = wonderousMagic.createVariables(\r\n      undefined,\r\n      rodOfWonderResultAlwaysSelected\r\n    );\r\n  } else if (currentEvent.title === twoSimultaneousEvents.title) {\r\n    // Because two simultaneous events has two events inside which need variables rerolling\r\n    // we need to completely re roll the variables object, not just each variable\r\n    newVariables = twoSimultaneousEvents.createVariables(\r\n      currentEvent.cr.result\r\n    );\r\n  } else {\r\n    Object.entries(currentEvent.variables).forEach(([key, variable]) => {\r\n      newVariables[key] = reRollVariable(variable);\r\n    });\r\n  }\r\n\r\n  const newDialogState = {\r\n    ...currentDialogState,\r\n    currentEvent: {\r\n      ...currentEvent,\r\n      variables: newVariables,\r\n      finalRound: calculateFinalRound(\r\n        newVariables.duration,\r\n        currentEvent.startRound\r\n      ),\r\n    },\r\n  };\r\n\r\n  dispatch(setTriggerDialogState(newDialogState));\r\n};\r\n","import { wonderousMagic } from '../../events/eventComponents/wonderousMagicEvent.component';\r\nimport { getEvent, getEventByTitle } from '../../events/events';\r\nimport { rollPercentile } from '../../random';\r\nimport {\r\n  makeConstantVariable,\r\n  primalEventInitialState,\r\n} from '../activePrimalEvents/activePrimalEventsState';\r\nimport { currentRoundSelector } from '../rounds/roundsState';\r\nimport {\r\n  manualTriggerType,\r\n  setTriggerDialogState,\r\n  triggerDialogInitialState,\r\n} from '../triggerDialog/triggerDialogState';\r\nimport {\r\n  alwaysSelectSameEventSelector,\r\n  eventsAlwaysTriggerSelector,\r\n  eventAlwaysSelectedSelector,\r\n  rodOfWonderAlwaysSelectedSelector,\r\n  alwaysSelectSameRodResultSelector,\r\n} from '../userSettings/userSetingsState';\r\n\r\nexport const characterInitialState = {\r\n  name: 'Other',\r\n  cl: undefined,\r\n};\r\n\r\nexport const characters = {\r\n  Other: { ...characterInitialState },\r\n  Thunder: { ...characterInitialState, name: 'Thunder', cl: 8 },\r\n  Finley: { ...characterInitialState, name: 'Finley', cl: 12 },\r\n  Autumn: { ...characterInitialState, name: 'Autumn', cl: 14 },\r\n  Poli: { ...characterInitialState, name: 'Poli', cl: 1 },\r\n  Katsu: { ...characterInitialState, name: 'Katsu', cl: 1 },\r\n};\r\n\r\nexport const manualTriggerInitialState = {\r\n  specifiedCr: 11,\r\n  character: { ...characterInitialState },\r\n};\r\n\r\nexport const manualTriggerStateSelector = state =>\r\n  state.primalMagic.manualTriggerState;\r\nexport const characterSelector = state =>\r\n  manualTriggerStateSelector(state).character;\r\nexport const specifiedCrSelector = state =>\r\n  manualTriggerStateSelector(state).specifiedCr;\r\n\r\nconst SetManualTriggerCrType =\r\n  'primalMagic:manualTriggerState:setManualTriggerCr';\r\nconst SetManualTriggerCharacterType =\r\n  'primalMagic:manualTriggerState:setManualTriggerCharacter';\r\n\r\nexport const setManualTriggerCr = cr => ({\r\n  type: SetManualTriggerCrType,\r\n  payload: cr,\r\n});\r\n\r\nexport const setManualTriggerCharacter = character => ({\r\n  type: SetManualTriggerCharacterType,\r\n  payload: character,\r\n});\r\n\r\nconst copyState = state => ({\r\n  ...state,\r\n  manualTriggerState: {\r\n    ...state.manualTriggerState,\r\n  },\r\n});\r\n\r\nconst handleSetManualTriggerCr = (state, payload) => {\r\n  const newState = copyState(state);\r\n  newState.manualTriggerState.specifiedCr = payload;\r\n  newState.manualTriggerState.character = { ...characterInitialState };\r\n  return newState;\r\n};\r\n\r\nconst handleSetManualTriggerCharacter = (state, payload) => {\r\n  const newState = copyState(state);\r\n  newState.manualTriggerState.character = payload;\r\n  if (payload.cl) {\r\n    newState.manualTriggerState.specifiedCr = payload.cl;\r\n  }\r\n\r\n  return newState;\r\n};\r\n\r\nexport const manualTriggerStateReducers = {\r\n  [SetManualTriggerCrType]: handleSetManualTriggerCr,\r\n  [SetManualTriggerCharacterType]: handleSetManualTriggerCharacter,\r\n};\r\n\r\nexport const calculateFinalRound = (durationVariable, startRound) => {\r\n  const durationInRounds = durationVariable?.result;\r\n  return durationInRounds === undefined\r\n    ? undefined\r\n    : startRound + durationInRounds;\r\n};\r\n\r\nexport const generateDialogEvent = (\r\n  percentile,\r\n  cr,\r\n  startRound,\r\n  eventAlwaysSelected,\r\n  rodOfWonderResultAlwaysSelected\r\n) => {\r\n  const correspondingEvent = eventAlwaysSelected\r\n    ? getEventByTitle(eventAlwaysSelected)\r\n    : getEvent(percentile);\r\n  const variables = correspondingEvent.createVariables(\r\n    cr,\r\n    rodOfWonderResultAlwaysSelected\r\n  );\r\n\r\n  const finalRound = calculateFinalRound(variables.duration, startRound);\r\n\r\n  return {\r\n    ...primalEventInitialState,\r\n    id: Date.now(),\r\n    title: correspondingEvent.title,\r\n    percentileRoll: eventAlwaysSelected\r\n      ? correspondingEvent.percentileMin\r\n      : percentile,\r\n    cr: makeConstantVariable(cr),\r\n    startRound,\r\n    finalRound,\r\n    variables,\r\n    expanded: true,\r\n  };\r\n};\r\n\r\n// Thunk that handles all state when pressing the manual trigger button\r\n// Rolls a percentile, then generates the dialog state, and the event state if roll was high enought\r\n// Then opens the dialog with that state\r\nexport const manualTriggerThunk = () => (dispatch, getState) => {\r\n  const state = getState();\r\n  const percentile = rollPercentile();\r\n  const currentCr = specifiedCrSelector(state);\r\n  const currentRound = currentRoundSelector(state);\r\n  const dialogState = {\r\n    ...triggerDialogInitialState,\r\n    open: true,\r\n    triggerType: manualTriggerType,\r\n    percentile,\r\n    cr: currentCr,\r\n  };\r\n\r\n  const eventsAlwaysTrigger = eventsAlwaysTriggerSelector(state);\r\n\r\n  if (eventsAlwaysTrigger || percentile >= dialogState.threshold) {\r\n    const alwaysShowSameEvent = alwaysSelectSameEventSelector(state);\r\n    const eventAlwaysSelected = alwaysShowSameEvent\r\n      ? eventAlwaysSelectedSelector(state)\r\n      : undefined;\r\n    const alwaysShowSameRodResult = alwaysSelectSameRodResultSelector(state);\r\n    const rodOfWonderResultAlwaysSelected =\r\n      eventAlwaysSelected === wonderousMagic.title && alwaysShowSameRodResult\r\n        ? rodOfWonderAlwaysSelectedSelector(state)\r\n        : undefined;\r\n\r\n    const eventPercentile = rollPercentile();\r\n    const event = generateDialogEvent(\r\n      eventPercentile,\r\n      currentCr,\r\n      currentRound,\r\n      eventAlwaysSelected,\r\n      rodOfWonderResultAlwaysSelected\r\n    );\r\n    dialogState.currentEvent = event;\r\n  }\r\n\r\n  dispatch(setTriggerDialogState(dialogState));\r\n};\r\n","import createReducer from './createReducer';\r\nimport {\r\n  manualTriggerInitialState,\r\n  manualTriggerStateReducers,\r\n} from '../manualTrigger/manualTriggerState';\r\nimport {\r\n  activePrimalEventsInitialState,\r\n  activePrimalEventsReducers,\r\n} from '../activePrimalEvents/activePrimalEventsState';\r\nimport { primalStormInitialState } from '../primalStorm/primalStormState';\r\nimport {\r\n  triggerDialogInitialState,\r\n  triggerDialogStateReducers,\r\n} from '../triggerDialog/triggerDialogState';\r\nimport {\r\n  eventExpansionInitialState,\r\n  eventExpansionReducers,\r\n} from '../eventExpansionState/eventExpansionState';\r\nimport { roundsInitialState, roundsStateReducers } from '../rounds/roundsState';\r\nimport {\r\n  userSettingsInitialState,\r\n  userSettingsStateReducers,\r\n} from '../userSettings/userSetingsState';\r\n\r\nexport const initialState = {\r\n  activePrimalEventsState: [...activePrimalEventsInitialState],\r\n  eventExpansionState: {\r\n    ...eventExpansionInitialState,\r\n  },\r\n  manualTriggerState: {\r\n    ...manualTriggerInitialState,\r\n  },\r\n  primalStormState: {\r\n    ...primalStormInitialState,\r\n  },\r\n  roundsState: {\r\n    ...roundsInitialState,\r\n  },\r\n  triggerDialogState: {\r\n    ...triggerDialogInitialState,\r\n  },\r\n  userSettingsState: {\r\n    ...userSettingsInitialState,\r\n  },\r\n};\r\n\r\nconst ResetAllType = 'primalMagic:resetAll';\r\nconst ResetAllForceType = 'primalMagic:resetAllForce';\r\n\r\nexport const resetAll = () => ({\r\n  type: ResetAllType,\r\n});\r\n\r\nexport const resetPrimalMagic = () => ({\r\n  type: ResetAllForceType,\r\n});\r\n\r\nconst handleResetAll = state => {\r\n  if (state?.userSettingsState?.resetOnlyResetsRounds) {\r\n    return {\r\n      ...state,\r\n      roundsState: { ...roundsInitialState },\r\n    };\r\n  }\r\n\r\n  return {\r\n    ...initialState,\r\n    userSettingsState: { ...state.userSettingsState },\r\n  };\r\n};\r\n\r\nexport const handleResetAllForce = () => {\r\n  return {\r\n    ...initialState,\r\n  };\r\n};\r\n\r\nconst PrimalMagicReducer = createReducer(initialState, {\r\n  [ResetAllType]: handleResetAll,\r\n  [ResetAllForceType]: handleResetAllForce,\r\n  ...eventExpansionReducers,\r\n  ...activePrimalEventsReducers,\r\n  ...manualTriggerStateReducers,\r\n  ...roundsStateReducers,\r\n  ...triggerDialogStateReducers,\r\n  ...userSettingsStateReducers,\r\n});\r\n\r\nexport default PrimalMagicReducer;\r\n","export const primalStormInitialState = {\r\n  active: false,\r\n  suppressed: false,\r\n  leftArea: false,\r\n  currentChance: 0,\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport { connectRouter } from 'connected-react-router';\r\nimport primalMagicReducer from './primalMagic.reducer';\r\n\r\nconst AppReducer = history =>\r\n  combineReducers({\r\n    router: connectRouter(history),\r\n    primalMagic: primalMagicReducer,\r\n  });\r\n\r\nexport default AppReducer;\r\n","import {\r\n  Button,\r\n  Card,\r\n  CardActions,\r\n  CardHeader,\r\n  makeStyles,\r\n} from '@material-ui/core';\r\nimport React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport primalMagicImage from '../images/primal_magic_image.png';\r\nimport { resetPrimalMagic } from '../state/app/primalMagic.reducer';\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    height: '100%',\r\n  },\r\n  cardHeader: {\r\n    textAlign: 'center',\r\n    paddingTop: 5,\r\n    paddingBottom: 5,\r\n  },\r\n  cardActions: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n});\r\n\r\nconst Homepage = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const onResetClicked = () => {\r\n    dispatch(resetPrimalMagic());\r\n  };\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <Card>\r\n        <CardHeader\r\n          className={classes.cardHeader}\r\n          title={'Primal Magic Utility'}\r\n        />\r\n        <NavLink to=\"/PrimalMagicTracker\">\r\n          <img src={primalMagicImage} />\r\n        </NavLink>\r\n        <CardActions className={classes.cardActions}>\r\n          <Button\r\n            component={NavLink}\r\n            variant=\"contained\"\r\n            to=\"/PrimalMagicTracker\"\r\n          >\r\n            Visit\r\n          </Button>\r\n          <Button variant=\"contained\" onClick={onResetClicked}>\r\n            Reset Data\r\n          </Button>\r\n        </CardActions>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Homepage;\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/core';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\n\r\nconst styles = {\r\n  message: {\r\n    paddingLeft: 24,\r\n    paddingRight: 24,\r\n    paddingTop: 10,\r\n    display: 'flex',\r\n  },\r\n  icon: {\r\n    marginRight: 10,\r\n  },\r\n};\r\n\r\nconst BasicErrorMessage = ({ classes, children }) => (\r\n  <div className={classes.message}>\r\n    <ErrorIcon className={classes.icon} />\r\n    <Typography variant=\"body1\">{children}</Typography>\r\n  </div>\r\n);\r\n\r\nexport default withStyles(styles)(BasicErrorMessage);\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/core';\r\n\r\nconst styles = theme => ({\r\n  titleContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  icon: {\r\n    width: '10vw',\r\n    height: '10vw',\r\n    color: theme.palette.primary.main,\r\n  },\r\n  titleText: {\r\n    fontWeight: 'bold',\r\n    fontSize: '10vw',\r\n    color: theme.palette.primary.main,\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  message: {\r\n    padding: 15,\r\n    maxWidth: 600,\r\n    textAlign: 'center',\r\n  },\r\n});\r\n\r\nconst ErrorPage = ({ classes, children, errorTitle }) => (\r\n  <div>\r\n    <div className={classes.titleContainer}>\r\n      <Typography className={classes.titleText}>{errorTitle}</Typography>\r\n    </div>\r\n    <div className={classes.container}>{children}</div>\r\n  </div>\r\n);\r\n\r\nexport default withStyles(styles)(ErrorPage);\r\n","import React from 'react';\r\nimport BasicErrorMessage from './basicErrorMessage.component';\r\nimport ErrorPage from './errorPage.component';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst PageNotFoundError = () => (\r\n  <ErrorPage errorTitle=\"404\">\r\n    <BasicErrorMessage>\r\n      Page not found. Please check the page address for typos. Click{' '}\r\n      <NavLink to=\"/\">here</NavLink> to return to the home page.\r\n    </BasicErrorMessage>\r\n  </ErrorPage>\r\n);\r\n\r\nexport default PageNotFoundError;\r\n","import React from 'react';\r\nimport { Box, makeStyles, Typography } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles({\r\n  header: {\r\n    paddingTop: 20,\r\n    paddingBottom: 20,\r\n    width: '100%',\r\n    textAlign: 'center',\r\n    backgroundColor: ({ colour }) => colour,\r\n    color: 'white',\r\n    borderTopLeftRadius: 2,\r\n    borderTopRightRadius: 2,\r\n  },\r\n});\r\n\r\nconst BarHeader = ({ title, colour }) => {\r\n  const classes = useStyles({ colour });\r\n\r\n  return (\r\n    <Box className={classes.header}>\r\n      <Typography variant=\"h4\">{title}</Typography>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default BarHeader;\r\n","import React from 'react';\r\nimport { Grid, makeStyles, TextField, Typography } from '@material-ui/core';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  characterInitialState,\r\n  characterSelector,\r\n  setManualTriggerCr,\r\n  specifiedCrSelector,\r\n} from '../state/manualTrigger/manualTriggerState';\r\n\r\nconst useStyles = makeStyles({\r\n  inputContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    padding: 20,\r\n  },\r\n  input: {\r\n    textAlign: 'center',\r\n  },\r\n  label: {\r\n    marginTop: 5,\r\n  },\r\n});\r\n\r\nconst CrInput = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const currentCharacter = useSelector(characterSelector);\r\n  const disabled = currentCharacter?.name !== characterInitialState.name;\r\n  const currentCr = useSelector(specifiedCrSelector);\r\n  const crError = !disabled && (currentCr > 20 || currentCr < 1);\r\n  const crErrorLabel = !disabled && crError ? 'between 1 and 20' : null;\r\n\r\n  const onCrChanged = event => {\r\n    const value = event.target.value;\r\n    const number = value === undefined ? undefined : parseInt(value);\r\n    dispatch(setManualTriggerCr(number));\r\n  };\r\n\r\n  return (\r\n    <Grid className={classes.inputContainer} container spacing={1}>\r\n      <Grid item>\r\n        <Typography className={classes.label}>CR / CL:</Typography>\r\n      </Grid>\r\n      <Grid item>\r\n        <TextField\r\n          disabled={disabled}\r\n          error={crError}\r\n          helperText={crErrorLabel}\r\n          type=\"number\"\r\n          InputLabelProps={{\r\n            hidden: true,\r\n          }}\r\n          inputProps={{\r\n            className: classes.input,\r\n          }}\r\n          value={currentCr}\r\n          onChange={onCrChanged}\r\n        />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default CrInput;\r\n","import React from 'react';\r\nimport {\r\n  FormControl,\r\n  FormControlLabel,\r\n  makeStyles,\r\n  Radio,\r\n  RadioGroup,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  characterInitialState,\r\n  characters,\r\n  characterSelector,\r\n  setManualTriggerCharacter,\r\n} from '../state/manualTrigger/manualTriggerState';\r\n\r\nconst useStyles = makeStyles({\r\n  radioContainer: {\r\n    padding: 20,\r\n  },\r\n});\r\n\r\nconst CharacterSwitch = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const currentCharacter = useSelector(characterSelector);\r\n\r\n  const handleCharacterChanged = event => {\r\n    const selected = event?.target?.value ?? characterInitialState.name;\r\n    const character = characters[selected];\r\n    dispatch(setManualTriggerCharacter(character));\r\n  };\r\n\r\n  return (\r\n    <FormControl className={classes.radioContainer}>\r\n      <Typography>Character</Typography>\r\n      <RadioGroup\r\n        value={currentCharacter.name}\r\n        onChange={handleCharacterChanged}\r\n      >\r\n        {Object.keys(characters).map(key => (\r\n          <FormControlLabel\r\n            labelPlacement=\"end\"\r\n            key={key}\r\n            value={key}\r\n            control={<Radio color=\"default\" />}\r\n            label={<Typography>{characters[key].name}</Typography>}\r\n          />\r\n        ))}\r\n      </RadioGroup>\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport default CharacterSwitch;\r\n","import React from 'react';\r\nimport { Box, makeStyles } from '@material-ui/core';\r\nimport CrInput from './crInput.component';\r\nimport CharacterSwitch from './characterSwitch.component';\r\n\r\nconst useStyles = makeStyles({\r\n  content: {\r\n    height: '100%',\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'flex-start',\r\n  },\r\n});\r\n\r\nconst ManualTriggerContent = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Box className={classes.content}>\r\n      <CrInput />\r\n      <CharacterSwitch />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ManualTriggerContent;\r\n","import { Box, Button, makeStyles } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport BarHeader from '../common/barHeader.component';\r\nimport { manualTriggerHeader } from '../common/colours';\r\nimport { manualTriggerThunk } from '../state/manualTrigger/manualTriggerState';\r\nimport ManualTriggerContent from './manualTriggerContent.component';\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n    height: '100%',\r\n    width: '100%',\r\n    alignItems: 'center',\r\n  },\r\n  footer: {\r\n    margin: 20,\r\n  },\r\n});\r\n\r\nconst ManualTriggerBar = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const onManualTriggerClicked = () => {\r\n    dispatch(manualTriggerThunk());\r\n  };\r\n\r\n  return (\r\n    <Box className={classes.container}>\r\n      <BarHeader title=\"Manual Trigger\" colour={manualTriggerHeader} />\r\n      <ManualTriggerContent />\r\n      <Box className={classes.footer}>\r\n        <Button variant=\"contained\" onClick={onManualTriggerClicked}>\r\n          Manually Trigger Event\r\n        </Button>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ManualTriggerBar;\r\n","import React from 'react';\r\nimport { Box, List, ListItem, makeStyles } from '@material-ui/core';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { toggleSingleExpandedThunk } from '../state/eventExpansionState/eventExpansionState';\r\nimport { activePrimalEventsSelector } from '../state/activePrimalEvents/activePrimalEventsState';\r\nimport EventCard from '../events/eventCard.component';\r\n\r\nconst useStyles = makeStyles({\r\n  content: {\r\n    height: '100%',\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'flex-start',\r\n    overflow: 'auto',\r\n  },\r\n});\r\n\r\nconst ActivePrimalEventsListContent = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const activePrimalEvents = useSelector(activePrimalEventsSelector);\r\n\r\n  const toggleSingleClicked = primalEvent => () => {\r\n    dispatch(toggleSingleExpandedThunk(primalEvent.id));\r\n  };\r\n\r\n  return (\r\n    <Box className={classes.content}>\r\n      {activePrimalEvents.length > 0 && (\r\n        <List>\r\n          {activePrimalEvents.map(primalEvent => (\r\n            <ListItem key={primalEvent.id}>\r\n              <EventCard\r\n                event={primalEvent}\r\n                onExpandToggleClicked={toggleSingleClicked(primalEvent)}\r\n              />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ActivePrimalEventsListContent;\r\n","export default __webpack_public_path__ + \"static/media/primal_magic_flowchart.0bce3f09.png\";","import { Button, Dialog, DialogContent, makeStyles } from '@material-ui/core';\r\nimport React, { Fragment, useState } from 'react';\r\nimport primalMagicFlowchart from '../images/primal_magic_flowchart.png';\r\n\r\nconst useStyles = makeStyles({\r\n  footerButton: {\r\n    marginLeft: 10,\r\n    marginRight: 10,\r\n  },\r\n  image: {\r\n    width: '100%',\r\n  },\r\n});\r\n\r\nconst FlowchartDisplay = () => {\r\n  const classes = useStyles();\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n\r\n  const onOpen = () => {\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setDialogOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Button\r\n        className={classes.footerButton}\r\n        variant=\"contained\"\r\n        onClick={onOpen}\r\n      >\r\n        Flowchart\r\n      </Button>\r\n      <Dialog open={dialogOpen} onClose={onClose}>\r\n        <DialogContent>\r\n          <img className={classes.image} src={primalMagicFlowchart} />\r\n        </DialogContent>\r\n      </Dialog>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default FlowchartDisplay;\r\n","import {\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  makeStyles,\r\n  MenuItem,\r\n  Select,\r\n} from '@material-ui/core';\r\nimport React, { Fragment, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  alwaysSelectSameEventSelector,\r\n  eventAlwaysSelectedSelector,\r\n  eventsAlwaysTriggerSelector,\r\n  rodOfWonderAlwaysSelectedSelector,\r\n  resetOnlyResetsRoundsSelector,\r\n  setAlwaysSelectSameEvent,\r\n  setEventAlwaysSelected,\r\n  setEventsAlwaysTrigger,\r\n  setRodOfWonderAlwaysSelected,\r\n  setResetOnlyResetsRounds,\r\n  alwaysSelectSameRodResultSelector,\r\n  setAlwaysSelectSameRodResult,\r\n} from '../state/userSettings/userSetingsState';\r\nimport { events } from '../events/events';\r\nimport { userSettingsHeader } from '../common/colours';\r\nimport { wonderousMagic } from '../events/eventComponents/wonderousMagicEvent.component';\r\nimport { rodOfWonderResults } from '../events/eventComponents/rodOfWonderResults/rodOfWonderResults';\r\n\r\nconst useStyles = makeStyles({\r\n  footerButton: {\r\n    marginLeft: 10,\r\n    marginRight: 10,\r\n  },\r\n  dialogContent: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    minWidth: 550,\r\n  },\r\n  dialogHeader: {\r\n    backgroundColor: userSettingsHeader,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  dropDown: {\r\n    marginLeft: 5,\r\n    minWidth: 215,\r\n  },\r\n});\r\n\r\nconst UserSettings = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n\r\n  const eventsAlwaysTrigger = useSelector(eventsAlwaysTriggerSelector);\r\n  const alwaysSelectSameEvent = useSelector(alwaysSelectSameEventSelector);\r\n  const eventAlwaysSelected = useSelector(eventAlwaysSelectedSelector);\r\n  const eventIsRodOfWonder =\r\n    alwaysSelectSameEvent && eventAlwaysSelected === wonderousMagic.title;\r\n  const rodResultAlwaysSelected = useSelector(\r\n    alwaysSelectSameRodResultSelector\r\n  );\r\n  const rodOfWonderAlwaysSelected = useSelector(\r\n    rodOfWonderAlwaysSelectedSelector\r\n  );\r\n  const resetOnlyResetsRounds = useSelector(resetOnlyResetsRoundsSelector);\r\n\r\n  const onUserSettingsClicked = () => {\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setDialogOpen(false);\r\n  };\r\n\r\n  const eventsAlwaysTriggerClicked = event => {\r\n    const value = event.target.checked;\r\n    dispatch(setEventsAlwaysTrigger(value));\r\n  };\r\n\r\n  const alwaysSelectSameEventClicked = event => {\r\n    const value = event.target.checked;\r\n    dispatch(setAlwaysSelectSameEvent(value));\r\n  };\r\n\r\n  const sameEventSelected = event => {\r\n    const value = event.target.value;\r\n    dispatch(setEventAlwaysSelected(value));\r\n  };\r\n\r\n  const alwaysSelectSameRodResultClicked = event => {\r\n    const value = event.target.checked;\r\n    dispatch(setAlwaysSelectSameRodResult(value));\r\n  };\r\n\r\n  const sameRodOfWonderSelected = event => {\r\n    const value = event.target.value;\r\n    dispatch(setRodOfWonderAlwaysSelected(value));\r\n  };\r\n\r\n  const resetOnlyResetsRoundsClicked = event => {\r\n    const value = event.target.checked;\r\n    dispatch(setResetOnlyResetsRounds(value));\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Button\r\n        className={classes.footerButton}\r\n        variant=\"contained\"\r\n        onClick={onUserSettingsClicked}\r\n      >\r\n        Settings\r\n      </Button>\r\n      <Dialog open={dialogOpen} onClose={onClose}>\r\n        <DialogTitle className={classes.dialogHeader}>\r\n          User Settings\r\n        </DialogTitle>\r\n        <DialogContent className={classes.dialogContent}>\r\n          <FormControlLabel\r\n            label=\"'Reset' Only Resets Current Round\"\r\n            labelPlacement=\"start\"\r\n            control={\r\n              <Checkbox\r\n                color=\"default\"\r\n                checked={resetOnlyResetsRounds}\r\n                onChange={resetOnlyResetsRoundsClicked}\r\n              />\r\n            }\r\n          />\r\n          <FormControlLabel\r\n            label=\"Events Always Trigger\"\r\n            labelPlacement=\"start\"\r\n            control={\r\n              <Checkbox\r\n                color=\"default\"\r\n                checked={eventsAlwaysTrigger}\r\n                onChange={eventsAlwaysTriggerClicked}\r\n              />\r\n            }\r\n          />\r\n          <FormControlLabel\r\n            label=\"Always Show Same Event\"\r\n            labelPlacement=\"start\"\r\n            control={\r\n              <Checkbox\r\n                color=\"default\"\r\n                checked={alwaysSelectSameEvent}\r\n                onChange={alwaysSelectSameEventClicked}\r\n              />\r\n            }\r\n          />\r\n          {alwaysSelectSameEvent && (\r\n            <FormControlLabel\r\n              label=\"Same Event Shown:\"\r\n              labelPlacement=\"start\"\r\n              control={\r\n                <Select\r\n                  variant=\"outlined\"\r\n                  className={classes.dropDown}\r\n                  value={eventAlwaysSelected}\r\n                  onChange={sameEventSelected}\r\n                >\r\n                  {events.map(event => (\r\n                    <MenuItem key={event.title} value={event.title}>\r\n                      {event.title}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              }\r\n            />\r\n          )}\r\n          {eventIsRodOfWonder && (\r\n            <FormControlLabel\r\n              label=\"Always Show Same Rod Of Wonder Result\"\r\n              labelPlacement=\"start\"\r\n              control={\r\n                <Checkbox\r\n                  color=\"default\"\r\n                  checked={rodResultAlwaysSelected}\r\n                  onChange={alwaysSelectSameRodResultClicked}\r\n                />\r\n              }\r\n            />\r\n          )}\r\n          {eventIsRodOfWonder && rodResultAlwaysSelected && (\r\n            <FormControlLabel\r\n              label=\"Same Rod Of Wonder Result Shown:\"\r\n              labelPlacement=\"start\"\r\n              control={\r\n                <Select\r\n                  variant=\"outlined\"\r\n                  className={classes.dropDown}\r\n                  value={rodOfWonderAlwaysSelected}\r\n                  onChange={sameRodOfWonderSelected}\r\n                >\r\n                  {rodOfWonderResults.map(result => (\r\n                    <MenuItem key={result.title} value={result.title}>\r\n                      {result.title}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              }\r\n            />\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default UserSettings;\r\n","import { Box, Button, makeStyles } from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport FlowchartDisplay from './flowchartDisplay.component';\r\nimport UserSettings from './userSettings.component';\r\n\r\nconst useStyles = makeStyles({\r\n  footer: {\r\n    margin: 20,\r\n  },\r\n  footerButton: {\r\n    marginLeft: 10,\r\n    marginRight: 10,\r\n  },\r\n});\r\n\r\nconst ActivePrimalEventsListFooter = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Fragment>\r\n      <Box className={classes.footer}>\r\n        <UserSettings />\r\n        <FlowchartDisplay />\r\n        <Button\r\n          className={classes.footerButton}\r\n          component={NavLink}\r\n          variant=\"contained\"\r\n          to=\"/\"\r\n        >\r\n          Home\r\n        </Button>\r\n      </Box>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ActivePrimalEventsListFooter;\r\n","import React from 'react';\r\nimport { Box, IconButton, makeStyles, Typography } from '@material-ui/core';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { activePrimalEventsSelector } from '../state/activePrimalEvents/activePrimalEventsState';\r\nimport {\r\n  allExpandedSelector,\r\n  toggleAllExpandedThunk,\r\n} from '../state/eventExpansionState/eventExpansionState';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport { primalEventsHeader } from '../common/colours';\r\n\r\nconst useStyles = makeStyles({\r\n  header: {\r\n    paddingTop: 4,\r\n    paddingBottom: 5,\r\n    width: '100%',\r\n    textAlign: 'center',\r\n    backgroundColor: primalEventsHeader,\r\n    color: 'white',\r\n    borderTopLeftRadius: 2,\r\n    borderTopRightRadius: 2,\r\n  },\r\n  subtitleContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n  },\r\n  subtitle: {\r\n    marginLeft: 5,\r\n    marginRight: 5,\r\n  },\r\n  expandButton: {\r\n    color: 'white',\r\n    backgroundColor: 'transparent',\r\n    '&:hover': {\r\n      backgroundColor: 'transparent',\r\n    },\r\n  },\r\n  headerText: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n});\r\n\r\nconst ActivePrimalEventsListHeader = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const activePrimalEvents = useSelector(activePrimalEventsSelector);\r\n  const allExpanded = useSelector(allExpandedSelector);\r\n\r\n  const toggleAllClicked = () => {\r\n    dispatch(toggleAllExpandedThunk());\r\n  };\r\n\r\n  const buildExpandIcon = expanded => {\r\n    if (expanded === undefined) {\r\n      return <RemoveIcon />;\r\n    }\r\n\r\n    if (!expanded) {\r\n      return <ExpandMoreIcon />;\r\n    }\r\n\r\n    return <ExpandLessIcon />;\r\n  };\r\n\r\n  const buildExpandButton = expanded => {\r\n    return (\r\n      <IconButton\r\n        disableRipple\r\n        className={classes.expandButton}\r\n        onClick={toggleAllClicked}\r\n      >\r\n        {buildExpandIcon(expanded)}\r\n      </IconButton>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Box className={classes.header}>\r\n      <Box className={classes.headerText}>\r\n        {buildExpandButton(allExpanded)}\r\n        <Typography variant=\"h4\">Active Primal Events</Typography>\r\n        {buildExpandButton(allExpanded)}\r\n      </Box>\r\n      <Box className={classes.subtitleContainer}>\r\n        <Typography className={classes.subtitle}>\r\n          Active Primal Magic Events: {activePrimalEvents.length}\r\n        </Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ActivePrimalEventsListHeader;\r\n","import { Box, makeStyles } from '@material-ui/core';\r\nimport React from 'react';\r\nimport ActivePrimalEventsListContent from './activePrimalEventsListContent.component';\r\nimport ActivePrimalEventsListFooter from './activePrimalEventsListFooter.content';\r\nimport ActivePrimalEventsListHeader from './activePrimalEventsListHeader.component';\r\n\r\nconst useStyles = makeStyles({\r\n  content: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n    height: '100%',\r\n    width: '100%',\r\n    alignItems: 'center',\r\n  },\r\n});\r\n\r\nconst ActivePrimalEventsList = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Box className={classes.content}>\r\n      <ActivePrimalEventsListHeader />\r\n      <ActivePrimalEventsListContent />\r\n      <ActivePrimalEventsListFooter />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ActivePrimalEventsList;\r\n","import React from 'react';\r\nimport { Avatar, Box, Button, makeStyles, Typography } from '@material-ui/core';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { currentRoundSelector } from '../state/rounds/roundsState';\r\nimport { resetAll } from '../state/app/primalMagic.reducer';\r\nimport { primalStormHeader } from '../common/colours';\r\n\r\nconst useStyles = makeStyles({\r\n  content: {\r\n    height: '100%',\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'flex-start',\r\n  },\r\n  resetButton: {\r\n    width: 130,\r\n    height: 30,\r\n    margin: 20,\r\n  },\r\n  currentRoundDisplay: {\r\n    margin: 20,\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n  },\r\n  roundAvatar: {\r\n    backgroundColor: primalStormHeader,\r\n    height: 30,\r\n    width: 30,\r\n    marginLeft: 10,\r\n  },\r\n});\r\n\r\nconst RoundsContent = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const currentRound = useSelector(currentRoundSelector);\r\n\r\n  const onResetClicked = () => {\r\n    dispatch(resetAll());\r\n  };\r\n\r\n  return (\r\n    <Box className={classes.content}>\r\n      <Box className={classes.currentRoundDisplay}>\r\n        <Typography>Current Round: </Typography>\r\n        <Avatar className={classes.roundAvatar}>{currentRound}</Avatar>\r\n      </Box>\r\n      <Button\r\n        className={classes.resetButton}\r\n        variant=\"contained\"\r\n        onClick={onResetClicked}\r\n      >\r\n        Reset\r\n      </Button>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default RoundsContent;\r\n","import { Box, Button, makeStyles } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport BarHeader from '../common/barHeader.component';\r\nimport { primalStormHeader } from '../common/colours';\r\nimport { advanceRoundThunk } from '../state/rounds/roundsState';\r\nimport RoundsContent from './roundsContent.component';\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n    height: '100%',\r\n    width: '100%',\r\n    alignItems: 'center',\r\n  },\r\n  footer: {\r\n    margin: 20,\r\n  },\r\n});\r\n\r\nconst RoundsBar = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const onNextRoundClicked = () => {\r\n    dispatch(advanceRoundThunk());\r\n  };\r\n\r\n  return (\r\n    <Box className={classes.container}>\r\n      <BarHeader title=\"Rounds & Primal Storm\" colour={primalStormHeader} />\r\n      <RoundsContent />\r\n      <Box className={classes.footer}>\r\n        <Button variant=\"contained\" onClick={onNextRoundClicked}>\r\n          Next Round\r\n        </Button>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default RoundsBar;\r\n","import {\r\n  Box,\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  makeStyles,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport React, { Fragment } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { manualTriggerHeader, primalStormHeader } from '../common/colours';\r\nimport {\r\n  closeTriggerDialog,\r\n  confirmDialogPrimalEventThunk,\r\n  manualTriggerType,\r\n  rerollDialogPrimalEventThunk,\r\n  rerollDialogPrimalEventVariablesThunk,\r\n  toggleTriggerDialogPrimalEventExpanded,\r\n  triggerDialogStateSelector,\r\n} from '../state/triggerDialog/triggerDialogState';\r\nimport { eventsAlwaysTriggerSelector } from '../state/userSettings/userSetingsState';\r\nimport EventCard from '../events/eventCard.component';\r\nimport SyncIcon from '@material-ui/icons/Sync';\r\nimport ReplayIcon from '@material-ui/icons/Replay';\r\nimport { blue } from '@material-ui/core/colors';\r\n\r\nconst useStyles = makeStyles({\r\n  dialogHeader: {\r\n    backgroundColor: ({ isManualTrigger }) =>\r\n      isManualTrigger ? manualTriggerHeader : primalStormHeader,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  eventOccurrance: {\r\n    fontWeight: 'bold',\r\n  },\r\n  cardHeader: {\r\n    backgroundColor: ({ isManualTrigger }) =>\r\n      isManualTrigger ? manualTriggerHeader : primalStormHeader,\r\n    color: 'white',\r\n    paddingTop: 3,\r\n    paddingBottom: 3,\r\n  },\r\n  reRollButton: {\r\n    margin: 5,\r\n    color: blue[500],\r\n    justifySelf: 'center',\r\n  },\r\n  reRollContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n  },\r\n});\r\n\r\nconst ManualPrimalEventDialog = () => {\r\n  const dispatch = useDispatch();\r\n  const {\r\n    percentile,\r\n    threshold,\r\n    triggerType,\r\n    open,\r\n    cr,\r\n    currentEvent,\r\n  } = useSelector(triggerDialogStateSelector);\r\n  const isManualTrigger = triggerType === manualTriggerType;\r\n  const classes = useStyles({ isManualTrigger });\r\n  const eventsAlwaysTriggered = useSelector(eventsAlwaysTriggerSelector);\r\n\r\n  const eventOccurred = percentile >= threshold;\r\n  const showEventContent = eventOccurred || eventsAlwaysTriggered;\r\n  let eventOccuranceMessage = `Event did not occur (${percentile}%, >=${threshold}% required)`;\r\n\r\n  if (eventOccurred) {\r\n    eventOccuranceMessage = `Event occurred (${percentile}%, >=${threshold}% achieved)`;\r\n  }\r\n\r\n  const onAcceptClicked = () => {\r\n    dispatch(confirmDialogPrimalEventThunk());\r\n  };\r\n\r\n  const onCloseDialogClicked = () => {\r\n    dispatch(closeTriggerDialog());\r\n  };\r\n\r\n  const onReRollEventClicked = () => {\r\n    dispatch(rerollDialogPrimalEventThunk());\r\n  };\r\n\r\n  const onReRollEventVariablesClicked = () => {\r\n    dispatch(rerollDialogPrimalEventVariablesThunk());\r\n  };\r\n\r\n  const onExpandToggleClicked = () => {\r\n    dispatch(toggleTriggerDialogPrimalEventExpanded());\r\n  };\r\n\r\n  if (!open) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Dialog fullWidth open={open}>\r\n      <DialogTitle className={classes.dialogHeader}>\r\n        {isManualTrigger ? 'Manual' : 'Storm'} Primal Event Trigger\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <Typography className={classes.eventOccurrance}>\r\n          {eventOccuranceMessage}\r\n        </Typography>\r\n        {!eventOccurred && eventsAlwaysTriggered && (\r\n          <Typography>(But was forced to occur by settings)</Typography>\r\n        )}\r\n        {showEventContent && (\r\n          <Fragment>\r\n            <Typography>CR: {cr}</Typography>\r\n          </Fragment>\r\n        )}\r\n        {showEventContent && (\r\n          <Fragment>\r\n            <Box className={classes.reRollContainer}>\r\n              <Button\r\n                className={classes.reRollButton}\r\n                startIcon={<SyncIcon />}\r\n                onClick={onReRollEventClicked}\r\n              >\r\n                Re-Roll (Event)\r\n              </Button>\r\n              <Button\r\n                className={classes.reRollButton}\r\n                startIcon={<ReplayIcon />}\r\n                onClick={onReRollEventVariablesClicked}\r\n              >\r\n                Re-Roll (Event Variables)\r\n              </Button>\r\n            </Box>\r\n            <EventCard\r\n              event={currentEvent}\r\n              titleColour={\r\n                isManualTrigger ? manualTriggerHeader : primalStormHeader\r\n              }\r\n              onExpandToggleClicked={onExpandToggleClicked}\r\n            />\r\n          </Fragment>\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        {showEventContent && (\r\n          <Button variant=\"contained\" onClick={onAcceptClicked}>\r\n            Trigger Event\r\n          </Button>\r\n        )}\r\n        <Button variant=\"contained\" onClick={onCloseDialogClicked}>\r\n          {showEventContent ? 'Do Not Trigger' : 'Phew...'}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ManualPrimalEventDialog;\r\n","import React from 'react';\r\nimport { makeStyles, Paper } from '@material-ui/core';\r\nimport { grey } from '@material-ui/core/colors';\r\nimport ManualTriggerBar from '../manualTriggerBar/manualTrigger.component';\r\nimport ActivePrimalEventsList from '../activePrimalEventsList/activePrimalEventsList.component';\r\nimport RoundsBar from '../roundsBar/roundsBar.component';\r\nimport ManualPrimalEventDialog from '../primalEventDialog/manualPrimalEventDialog.component';\r\n\r\nconst useStyles = makeStyles({\r\n  contentContainer: {\r\n    height: 'calc(100vh - 20px)',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    backgroundColor: grey[100],\r\n  },\r\n  buttonPage: {\r\n    margin: 10,\r\n    width: '20%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  page: {\r\n    margin: 10,\r\n    width: '50%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  pinnedEventsPage: {\r\n    margin: 10,\r\n    width: '20%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n});\r\n\r\nconst PrimalEventPage = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.contentContainer}>\r\n      <Paper elevation={3} variant=\"outlined\" className={classes.buttonPage}>\r\n        <ManualTriggerBar />\r\n      </Paper>\r\n      <Paper elevation={3} variant=\"outlined\" className={classes.page}>\r\n        <ActivePrimalEventsList />\r\n      </Paper>\r\n      <Paper\r\n        elevation={3}\r\n        variant=\"outlined\"\r\n        className={classes.pinnedEventsPage}\r\n      >\r\n        <RoundsBar />\r\n      </Paper>\r\n      <ManualPrimalEventDialog />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrimalEventPage;\r\n","import React from 'react';\r\nimport { routerMiddleware, ConnectedRouter } from 'connected-react-router';\r\nimport { Route, Switch } from 'react-router';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport * as log from 'loglevel';\r\nimport { createLogger } from 'redux-logger';\r\nimport thunk from 'redux-thunk';\r\nimport { Provider } from 'react-redux';\r\nimport { createHashHistory } from 'history';\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\nimport { buildTheme } from './styles/theming';\r\nimport AppReducer from './state/app/App.reducer';\r\nimport Homepage from './homepage/homepage.component';\r\nimport PageNotFoundError from './errorPages/pageNotFoundError.component';\r\nimport persistReducer from 'redux-persist/es/persistReducer';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport persistStore from 'redux-persist/es/persistStore';\r\nimport PrimalEventPage from './primalEventPage/primalEventPage.component';\r\n\r\nconst history = createHashHistory();\r\nconst middleware = [thunk, routerMiddleware(history)];\r\n\r\nif (process.env.NODE_ENV === 'development') {\r\n  const logger = createLogger();\r\n  middleware.push(logger);\r\n  log.setDefaultLevel(log.levels.DEBUG);\r\n} else {\r\n  log.setDefaultLevel(log.levels.ERROR);\r\n}\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const store = createStore(\r\n  persistReducer({ key: 'root', storage }, AppReducer(history)),\r\n  composeEnhancers(applyMiddleware(...middleware))\r\n);\r\nconst persistor = persistStore(store);\r\n\r\nconst pageContent = () => (\r\n  <Switch>\r\n    <Route exact path={'/'} render={() => <Homepage />} />\r\n    <Route\r\n      exact\r\n      path={'/PrimalMagicTracker'}\r\n      render={() => <PrimalEventPage />}\r\n    />\r\n    <Route render={() => <PageNotFoundError />} />\r\n  </Switch>\r\n);\r\n\r\nconst App = () => {\r\n  return (\r\n    <div>\r\n      <Provider store={store}>\r\n        <PersistGate persistor={persistor} loading={null}>\r\n          <ConnectedRouter history={history}>\r\n            <MuiThemeProvider theme={buildTheme()}>\r\n              {pageContent()}\r\n            </MuiThemeProvider>\r\n          </ConnectedRouter>\r\n        </PersistGate>\r\n      </Provider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { createMuiTheme } from '@material-ui/core/styles';\r\n\r\nexport const buildTheme = () => {\r\n  const options = {\r\n    typography: {\r\n      useNextVariants: true,\r\n      singleRiskView: {\r\n        fontSize: 20,\r\n        padding: '10px',\r\n        margin: 'auto',\r\n        textAlign: 'left',\r\n      },\r\n    },\r\n    textField: {\r\n      padding: '0px',\r\n    },\r\n    slider: {\r\n      padding: '10px',\r\n      margin: '-10px',\r\n    },\r\n    select: {\r\n      padding: '10px',\r\n    },\r\n    tabs: {\r\n      padding: '10px',\r\n    },\r\n    formControl: {\r\n      padding: '10px',\r\n    },\r\n  };\r\n\r\n  return createMuiTheme(options);\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport 'typeface-roboto';\r\n\r\nconst appToRender = () => {\r\n  ReactDOM.render(<App />, document.getElementById('root'));\r\n};\r\n\r\nappToRender();\r\n"],"sourceRoot":""}